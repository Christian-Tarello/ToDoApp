(()=>{"use strict";var __webpack_modules__={197:()=>{eval("\n;// CONCATENATED MODULE: ./src/modules/controllers/taskController.js\nclass TaskController {\n    constructor(task, elementFactory, popUpLayer) {\n        this.task = task;\n        this.task.addObserver(this);\n        this.elementFactory = elementFactory;\n        this.popUpLayer = popUpLayer;\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n\n    toggle() {\n        this.task.toggleDone();\n    }\n\n    changeTitle(title) {\n        this.task.title = title;\n    }\n\n    changeDescription(description) {\n        this.task.description = description;\n    }\n\n    changePriority(priority) {\n        this.task.priority = priority;\n    }\n\n    changeDueDate(date) {\n        this.task.dueDate = date;\n    }\n\n    updateView() {\n        this.view.setDone(this.task.isDone);\n        this.view.setTitle(this.task.title);\n        this.view.setDescription(this.task.description);\n        this.view.setPriority(this.task.priority);\n        this.view.setDueDate(this.task.dueDate);\n    }\n\n    update() {\n        this.updateView();\n    }\n\n    finalize() {\n        this.task.removeObserver(this);\n    }\n\n    delete() {\n        this.finalize();\n        this.task.unlink();\n        this.view.remove();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/utils/priority.js\nconst Priority = Object.freeze({\n    HIGH: 'High',\n    MEDIUM: 'Medium',\n    LOW: \"Low\",\n    UNSET: \"Unset\"\n});\n\n/* harmony default export */ const utils_priority = (Priority);\n;// CONCATENATED MODULE: ./src/modules/views/taskView.js\n\n\nclass TaskView {\n    constructor(controller, checklistElement) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.checklistElement = checklistElement;\n    }\n\n    createContainer() {\n        const element = document.createElement('div');\n        element.classList.add('task');\n        return element;\n    }\n\n    createHeaderContainer() {\n        const element = document.createElement('div');\n        element.classList.add('task-header');\n        return element;\n    }\n\n    createDisplayCheckbox() {\n        this.displayCheckbox = document.createElement('input');\n        this.displayCheckbox.setAttribute('type', 'checkbox');\n        this.displayCheckbox.classList.add('task-displayToggle');\n        return this.displayCheckbox;\n    }\n\n    createDoneToggle() {\n        this.doneToggle = document.createElement('input');\n        this.doneToggle.setAttribute('type', 'checkbox');\n        this.doneToggle.classList.add('task-doneToggle');\n        return this.doneToggle;\n    }\n\n    createTitleInput() {\n        this.titleInput = document.createElement('input');\n        this.titleInput.setAttribute('type', 'text');\n        this.titleInput.classList.add('task-titleInput');\n        return this.titleInput;\n    }\n\n    createDateInput() {\n        this.dateInput = document.createElement('input');\n        this.dateInput.setAttribute('type', 'date');\n        this.dateInput.classList.add('task-dateInput');\n        return this.dateInput;\n    }\n\n    createPriority(value) {\n        const element = document.createElement('input');\n        element.setAttribute('type', 'checkbox');\n        element.setAttribute('value', value);\n        element.classList.add('prioritySelector-priority');\n        return element;\n    }\n\n    createPrioritiesContainer() {\n        const element = document.createElement('span');\n        element.classList.add('prioritySelector');\n        return element;\n    }\n\n    createPriorityElements() {\n        this.priorityElements = Object.values(utils_priority).toReversed().map((value) => this.createPriority(value));\n        return this.priorityElements;\n    }\n\n    createDeleteButton() {\n        this.deleteButton = document.createElement('button');\n        this.deleteButton.setAttribute('type', 'button');\n        this.deleteButton.classList.add('task-deleteButton');\n        this.deleteButton.innerText = \"X\";\n        return this.deleteButton;\n    }\n\n    createBodyContainer() {\n        this.bodyContainer = document.createElement('div');\n        this.bodyContainer.classList.add('task-body');\n        this.setBodyVisibility(false);\n        return this.bodyContainer;\n    }\n\n    createDescriptionInput() {\n        this.descriptionInput = document.createElement('textarea');\n        this.descriptionInput.classList.add('task-descriptionInput');\n        this.descriptionInput.setAttribute('placeholder', 'Type here...')\n        return this.descriptionInput;\n    }\n\n    create() {\n        const element = this.createContainer();\n        const header = this.createHeaderContainer();\n        const body = this.createBodyContainer();\n\n        const prioritiesContainer = this.createPrioritiesContainer();\n        prioritiesContainer.append(...this.createPriorityElements())\n        \n        header.append(\n            this.createDisplayCheckbox(),\n            this.createDoneToggle(),\n            this.createTitleInput(),\n            this.createDateInput(),\n            prioritiesContainer,\n            this.createDeleteButton()\n        );\n\n        body.append(\n            this.createDescriptionInput(),\n            this.checklistElement\n        );\n\n        element.append(header, body);\n\n        return element;\n    }\n\n    setInteractions() {\n        this.deleteButton.addEventListener('click', () => {this.controller.delete()});\n        this.doneToggle.addEventListener('change', () => {this.controller.toggle()});\n        this.titleInput.addEventListener('change', (e) => {this.controller.changeTitle(e.target.value)});\n        this.descriptionInput.addEventListener('change', (e) => {this.controller.changeDescription(e.target.value)});\n        this.dateInput.addEventListener('change', (e) => {this.controller.changeDueDate(e.target.value)});\n        this.priorityElements.forEach((element) => {\n            element.addEventListener('change', (e) => {\n                if (e.target.checked) {\n                    this.setPriority(e.target.value);\n                    this.controller.changePriority(e.target.value);\n                }\n            });\n        });\n        this.displayCheckbox.addEventListener('change', (e) => {this.setBodyVisibility(e.target.checked)})\n    }\n\n    build() {\n        this.element = this.create();\n        this.controller.updateView();\n        this.setInteractions();\n        return this.element;\n    }\n\n    setTitle(title) {\n        this.titleInput.setAttribute('value', title)\n    }\n\n    setDescription(description) {\n        this.descriptionInput.value = description;\n    }\n\n    setPriority(priority) {\n        this.priorityElements.forEach((item) => {\n            if (item.value === priority) {\n                item.checked = true;\n                item.disabled = true;\n            } else {\n                item.checked = false;\n                item.disabled = false;\n            }\n        });\n    }\n\n    setDueDate(date) {\n        this.dateInput.value = date;\n    }\n\n    setDone(isDone) {\n        this.doneToggle.checked = isDone;\n    }\n\n    setBodyVisibility(isVisible) {\n        if (isVisible) {\n            this.bodyContainer.classList.remove('task-body--hidden');\n        }\n        else {\n            this.bodyContainer.classList.add('task-body--hidden');\n        }\n    }\n\n    remove() {\n        this.element.remove();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/controllers/projectController.js\nclass ProjectController {\n    constructor(project, elementFactory, popUpLayer) {\n        this.elementFactory = elementFactory;\n        this.popUpLayer = popUpLayer;\n        this.project = project;\n        this.project.addObserver(this);\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n\n    addTaskInput() {\n        const element = this.elementFactory.buildTaskInput(this.project);\n        this.popUpLayer.addPopUp(element, true, \"#80808080\");\n    }\n\n    updateView() {\n        const elements = this.project.items.map(\n            (item) => {\n                return this.elementFactory.buildTask(item);\n            }\n        )\n        this.view.replaceItems(elements);\n        this.view.setName(this.project.name);\n    }\n\n    update() {\n        this.updateView();\n    }\n\n    finalize() {\n        this.project.removeObserver(this);\n    }\n\n    remove() {\n        this.view.remove();\n    }\n\n    delete() {\n        this.finalize();\n        this.remove();\n        this.project.unlink();\n    }\n\n    changeName(name) {\n        this.project.setState({name});\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/templates/projectTemplate.js\nclass ProjectTemplate {\n    static createContainer() {\n        const element = document.createElement('div');\n        element.classList.add('project');\n        return element;\n    }\n\n    static createHeaderContainer() {\n        const element = document.createElement('div');\n        element.classList.add('project-header');\n        return element;\n    }\n\n    static createNameInput() {\n        const element = document.createElement('input');\n        element.setAttribute('type', 'text');\n        element.setAttribute('placeholder', 'Project Name');\n        element.classList.add('project-nameInput');\n        return element;\n    }\n\n    static createDeleteButton() {\n        const element = document.createElement('button');\n        element.setAttribute('type', 'button');\n        element.classList.add('project-deleteButton');\n        element.innerText = 'X';\n        return element;\n    }\n\n    static createBodyContainer() {\n        const element = document.createElement('div');\n        element.classList.add('project-body');\n        return element;\n    }\n\n    static createBodyWrapper() {\n        const element = document.createElement('scroll-container');\n        return element;\n    }\n\n    static createTasksHook() {\n        const element = document.createElement('div');\n        element.classList.add('project-contentHook');\n        return element;\n    }\n\n    static createAddTaskInputButton() {\n        const element = document.createElement(\"button\");\n        element.setAttribute(\"type\", \"button\");\n        element.classList.add('project-addButton');\n        element.innerText = 'Add Task +';\n        return element;\n    }\n\n    static create() {\n        const element = ProjectTemplate.createContainer();\n        const headerContainer = ProjectTemplate.createHeaderContainer();\n        const nameInput = ProjectTemplate.createNameInput();\n        const deleteButton = ProjectTemplate.createDeleteButton();\n        const bodyContainer = ProjectTemplate.createBodyContainer();\n        const bodyWrapper = ProjectTemplate.createBodyWrapper();\n        const tasksHook = ProjectTemplate.createTasksHook();\n        const addTaskButton = ProjectTemplate.createAddTaskInputButton();\n\n        headerContainer.append(\n            nameInput,\n            deleteButton\n        );\n\n        bodyWrapper.append(\n            tasksHook,\n            addTaskButton\n        );\n\n        bodyContainer.append(\n            bodyWrapper\n        );\n\n        element.append(\n            headerContainer,\n            bodyContainer\n        );\n\n        return {\n            element,\n            nameInput,\n            deleteButton,\n            tasksHook,\n            addTaskButton\n        }\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/views/projectView.js\n\n\nclass ProjectView {\n    constructor(controller) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.element = undefined;\n        \n        this.template = ProjectTemplate;\n    }\n\n    create() {\n        const structure = ProjectTemplate.create();\n        this.element = structure.element;\n        this.nameInput = structure.nameInput;\n        this.deleteButton = structure.deleteButton;\n        this.tasksHook = structure.tasksHook;\n        this.addTaskButton = structure.addTaskButton;\n    }\n\n    setInteractions() {\n        this.addTaskButton.addEventListener('click', () => {this.controller.addTaskInput()});\n        this.nameInput.addEventListener('change', (e) => this.controller.changeName(e.target.value));\n        this.deleteButton.addEventListener('click', () => this.controller.delete());\n    }\n\n    build() {\n        this.create();\n        this.controller.updateView();\n        this.setInteractions();\n        return this.element;\n    }\n\n    remove() {\n        this.element.remove();\n    }\n\n    replaceItems(elements) {\n        this.tasksHook.replaceChildren(...elements);\n    }\n\n    addItem(element) {\n        this.tasksHook.append(element);\n    }\n\n    setName(name) {\n        this.nameInput.setAttribute('value', name);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/utils/taskFields.js\nconst TaskFields = Object.freeze({\n    TITLE: \"taskTitle\",\n    DESCRIPTION: 'taskDescription',\n    DUE_DATE: \"taskDueDate\",\n    PRIORITY: \"taskPriority\",\n});\n\n/* harmony default export */ const taskFields = (TaskFields);\n;// CONCATENATED MODULE: ./src/modules/controllers/taskInputController.js\n\n\nclass TaskInputController {\n    constructor(project, taskFactory) {\n        this.project = project;\n        this.taskFactory = taskFactory;\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n\n    remove() {\n        this.view.remove();\n    }\n\n    processTaskSubmission(e) {\n        const data = new FormData(e.target);\n        const title = data.get(taskFields.TITLE);\n        const description = data.get(taskFields.DESCRIPTION);\n        const priority = data.get(taskFields.PRIORITY);\n        const dueDate = data.get(taskFields.DUE_DATE);\n\n        const task = this.taskFactory(title, description, dueDate, priority);\n        this.project.add(task);\n\n        this.remove();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/templates/taskFormTemplate.js\nclass TaskFormTemplate {\n    createInputWrapper() {\n        const element = document.createElement('li');\n        element.classList.add('taskForm-field');\n        return element;\n    }\n\n    createLabel(label, name) {\n        const element = document.createElement('label');\n        element.setAttribute('for', name);\n        element.classList.add('taskForm-label');\n        element.innerText = label;\n        return element;\n    }\n\n    createTextInput(name, value) {\n        const element = document.createElement('input');\n        element.setAttribute('type', 'text');\n        element.setAttribute('id', name);\n        element.setAttribute('name', name);\n        element.setAttribute('required', '');\n        element.setAttribute('value', value);\n        element.classList.add('taskForm-text');\n        return element\n    }\n\n    createSelect(name, optionElements) {\n        const element = document.createElement('select');\n        element.setAttribute('id', name);\n        element.setAttribute('name', name);\n        element.append(...optionElements);\n        element.classList.add('taskForm-select');\n        return element;\n    }\n\n    createOption(label, value, isSelected = false) {\n        const element = document.createElement('option');\n        element.setAttribute('value', value);\n        element.innerText = label;\n        if (isSelected) {element.setAttribute('selected', '');}\n        element.classList.add('taskForm-option');\n        return element;\n    }\n\n    createDateInput(name, value) {\n        const element = document.createElement('input');\n        element.setAttribute('type', 'date');\n        element.setAttribute('id', name);\n        element.setAttribute('name', name);\n        element.setAttribute('value', value);\n        element.classList.add('taskForm-date');\n        return element\n    }\n\n    createTextField(label, name, value) {\n        const element = this.createInputWrapper();\n        const labelElement = this.createLabel(label, name);\n        const inputElement = this.createTextInput(name, value);\n        element.append(\n            labelElement,\n            inputElement\n        );\n        return element;\n    }\n\n    createSelectField(label, name, options) {\n        const element = this.createInputWrapper();\n        const labelElement = this.createLabel(label, name);\n        const optionElements = options.map(\n            (option) => this.createOption(option.label, option.value, option.isSelected)\n        );\n        const selectElement = this.createSelect(name, optionElements);\n        element.append(\n            labelElement,\n            selectElement\n        );\n        return element;\n    }\n\n    createDateField(label, name, value) {\n        const element = this.createInputWrapper();\n        const labelElement = this.createLabel(label, name);\n        const inputElement = this.createDateInput(name, value);\n        element.append(\n            labelElement,\n            inputElement\n        );\n        return element;\n    }\n\n    createInput(data) {\n        switch (data.type) {\n            case 'selectField':\n                return this.createSelectField(\n                    data.label,\n                    data.name,\n                    data.options\n                    );\n            case 'textField':\n                return this.createTextField(\n                    data.label,\n                    data.name,\n                    data.value\n                );\n            case 'dateField':\n                return this.createDateField(\n                    data.label,\n                    data.name,\n                    data.value\n                );\n            default:\n                break;\n        }\n    }\n\n    createFormElement() {\n        const element = document.createElement('form');\n        element.setAttribute('action', '');\n        element.setAttribute('method', 'POST');\n        element.classList.add('taskForm');\n        return element;\n    }\n\n    createSubmitButton(node) {\n        const element = document.createElement('button');\n        element.setAttribute('type', 'submit');\n        element.classList.add('taskForm-button', 'taskForm-button--submit');\n        element.append(node);\n        return element;\n    }\n\n    createCancelButton(node) {\n        const element = document.createElement('button');\n        element.setAttribute('type', 'button');\n        element.classList.add('taskForm-button', 'taskForm-button--cancel');\n        element.append(node);\n        return element;\n    }\n\n    createFieldList() {\n        const element = document.createElement('ul');\n        element.setAttribute('type', 'button');\n        element.classList.add('taskForm-fieldList');\n        return element;\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/views/taskInputView.js\n\n\n\n\nclass TaskInputView {\n    constructor(controller) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.template = new TaskFormTemplate();\n        this.element = undefined;\n    }\n\n    createFormElement() {\n        this.formElement = this.template.createFormElement();\n        return this.formElement;\n    }\n\n    createContainer() {\n        return this.createFormElement();\n    }\n\n    createContentHook() {\n        this.contentHook = this.template.createFieldList();\n        return this.contentHook;\n    }\n\n    createSubmitButton() {\n        this.submitButton = this.template.createSubmitButton(\n            document.createTextNode('Create Task')\n        );\n        return this.submitButton;\n    }\n\n    createCancelButton() {\n        this.cancelButton = this.template.createCancelButton(\n            document.createTextNode('Cancel')\n        );\n        return this.cancelButton;\n    }\n\n    create() {\n        const element = this.createContainer();\n        element.append(\n            this.createContentHook(),\n            this.createSubmitButton(),\n            this.createCancelButton()\n        );\n        return element;\n    }\n\n    setInteractions() {        \n        this.formElement.addEventListener(\"submit\", (e) => {\n            e.preventDefault();\n            this.controller.processTaskSubmission(e);\n        });\n        this.cancelButton.addEventListener(\"click\", () => {this.controller.remove()});\n    }\n\n    build() {\n        this.element = this.create();\n        this.setContent();\n        this.setInteractions();\n        return this.element;\n    }\n\n    createContentObj() {\n        return [\n            {\n                type: 'textField',\n                name: taskFields.TITLE,\n                label: 'Title',\n                value: ''\n            },\n            {\n                type: 'textField',\n                name: taskFields.DESCRIPTION,\n                label: 'Description',\n                value: ''\n            },\n            {\n                type: 'selectField',\n                name: taskFields.PRIORITY,\n                label: 'Priority',\n                options: [\n                    {label: 'Low', value: utils_priority.LOW, isSelected: false},\n                    {label: 'Medium', value: utils_priority.MEDIUM,  isSelected: false},\n                    {label: 'High', value: utils_priority.HIGH, isSelected: false},\n                    {label: 'Unset', value: utils_priority.UNSET, isSelected: true}\n                ]\n            },\n            {\n                type: 'dateField',\n                name: taskFields.DUE_DATE,\n                label: 'Due Date',\n                value: ''\n            }\n        ]\n    }\n\n    setContent() {\n        const contentObj = this.createContentObj();\n        const items = contentObj.map((data) => this.template.createInput(data));\n        this.contentHook.replaceChildren(...items);\n    }\n    \n    remove() {\n        this.element.remove();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/views/checklistView.js\nclass ChecklistView {\n    constructor(controller) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.element = undefined;\n    }\n\n    createContainer() {\n        const element = document.createElement('div');\n        element.classList.add('checklist');\n        return element;\n    }\n\n    createItemsHook() {\n        this.itemsHook = document.createElement('ul');\n        this.itemsHook.classList.add('checklist-itemList');\n        return this.itemsHook;\n    }\n\n    createAddItemButton() {\n        this.addItemButton = document.createElement('button');\n        this.addItemButton.classList.add('checklist-addButton');\n        this.addItemButton.setAttribute('type', 'button');\n        this.addItemButton.innerText = \"Add Item +\";\n        return this.addItemButton;\n    }\n\n    create() {\n        const element = this.createContainer();\n        element.append(\n            this.createItemsHook(),\n            this.createAddItemButton()\n        );\n        return element;\n    }\n\n    setInteractions() {\n        this.addItemButton.addEventListener('click', () => {this.controller.addEmptyItem()});\n    }\n\n    build() {\n        this.element = this.create();\n        this.controller.updateView();\n        this.setInteractions();\n        return this.element;\n    }\n\n    replaceItems(elements) {\n        this.itemsHook.replaceChildren(...elements);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/controllers/checklistController.js\nclass ChecklistController {\n    constructor(checklist, elementFactory, checklistItemFactory) {\n        this.checklist = checklist;\n        this.checklist.addObserver(this);\n        this.elementFactory = elementFactory;\n        this.checklistItemFactory = checklistItemFactory;\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n    \n    addEmptyItem() {\n        const item = this.checklistItemFactory('');\n        this.checklist.add(item);\n    }\n\n    updateView() {\n        const elements = this.checklist.items.map(\n            (item) => {\n                return this.elementFactory.buildChecklistItem(item);\n            }\n        )\n        this.view.replaceItems(elements);\n    }\n\n    update() {\n        this.updateView();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/views/checklistItemView.js\nclass ChecklistItemView {\n    constructor(controller) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.element = undefined;\n    }\n\n    createContainer() {\n        const element = document.createElement('li');\n        element.classList.add('checklistItem');\n        return element;\n    }\n\n    createDescriptionInput() {\n        this.descriptionInput = document.createElement('input');\n        this.descriptionInput.classList.add('checklistItem-descriptionInput');\n        this.descriptionInput.setAttribute('type', 'text');\n        return this.descriptionInput;\n    }\n\n    createDoneToggle() {\n        this.doneToggle = document.createElement('input');\n        this.doneToggle.classList.add('checklistItem-doneToggle');\n        this.doneToggle.setAttribute('type', 'checkbox');\n        return this.doneToggle;\n    }\n\n    createDeleteButton() {\n        this.deleteButton = document.createElement('button');\n        this.deleteButton.classList.add('checklistItem-deleteButton');\n        this.deleteButton.setAttribute('type', 'button');\n        this.deleteButton.innerText = 'X';\n        return this.deleteButton;\n    }\n\n    create() {\n        const element = this.createContainer();\n        element.append(\n            this.createDoneToggle(),\n            this.createDescriptionInput(),\n            this.createDeleteButton()\n        );\n        return element\n    }\n\n    setInteractions() {\n        this.descriptionInput.addEventListener('change', (e) => {this.controller.changeDescription(e.target.value)});\n        this.doneToggle.addEventListener('change', (e) => {this.controller.toggle()});\n        this.deleteButton.addEventListener('click', () => {this.controller.delete()});\n    }\n    \n    build() {\n        this.element = this.create();\n        this.controller.updateView();\n        this.setInteractions();\n        return this.element;\n    }\n\n    setDescription(text) {\n        this.descriptionInput.setAttribute('value', `${text}`);\n    }\n\n    setCheckboxState(isOn) {\n        if (isOn) {\n            this.doneToggle.setAttribute('checked', '');\n        } else {\n            this.doneToggle.removeAttribute('checked', '');\n        }\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/controllers/checklistItemController.js\nclass ChecklistItemController {\n    constructor(item) {\n        this.item = item;\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n\n    toggle() {\n        this.item.toggleDone();\n    }\n\n    changeDescription(description) {\n        this.item.description = description;\n    }\n\n    updateView() {\n        this.view.setDescription(this.item.description);\n        this.view.setCheckboxState(this.item.isDone);\n    }\n\n    delete() {\n        this.item.unlink();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/templates/projectCollectionTemplate.js\nclass ProjectCollectionTemplate {\n    static createContainer() {\n        const element = document.createElement('div');\n        element.classList.add('projectCollection');\n        return element;\n    }\n\n    static createAddButton() {\n        const element = document.createElement('button');\n        element.setAttribute('type', 'button');\n        element.classList.add('projectCollection-addButton');\n        element.innerText = '+ Add Project';\n        return element;\n    }\n\n    static createContentHook() {\n        const element = document.createElement('div');\n        element.classList.add('projectCollection-contentHook');\n        return element;\n    }\n\n    static create() {\n        const element = ProjectCollectionTemplate.createContainer();\n        const addButton = ProjectCollectionTemplate.createAddButton();\n        const contentHook = ProjectCollectionTemplate.createContentHook();\n        \n        element.append(\n            addButton,\n            contentHook\n        );\n\n        return {\n            element,\n            addButton,\n            contentHook\n        };\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/views/projectCollectionView.js\n\n\nclass ProjectCollectionView {\n    constructor(controller) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.template = ProjectCollectionTemplate;\n    }\n\n    create() {\n        const structure = this.template.create();\n        this.element = structure.element;\n        this.addButton = structure.addButton;\n        this.contentHook = structure.contentHook;\n    }\n\n    setInteractions() {\n        this.addButton.addEventListener('click', () => this.controller.createEmptyProject());\n    }\n\n    build() {\n        this.create();\n        this.controller.updateView();\n        this.setInteractions();\n        return this.element;\n    }\n\n    replaceItems(elements) {\n        this.contentHook.replaceChildren(...elements);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/controllers/projectCollectionController.js\nclass ProjectCollectionController {\n    constructor(projectCollection, contentHook, elementFactory, projectFactory) {\n        this.projectCollection = projectCollection;\n        this.projectCollection.addObserver(this);\n        this.contentHook = contentHook;\n        this.elementFactory = elementFactory;\n        this.projectFactory = projectFactory;\n\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n\n    updateView() {\n        const elements = this.projectCollection.items.map(\n            (item) => {\n                return this.elementFactory.buildCollectionButton(item, this.contentHook);\n            }\n        )\n        this.view.replaceItems(elements);\n    }\n\n    update() {\n        this.updateView();\n    }\n\n    createEmptyProject() {\n        const project = this.projectFactory('');\n        this.projectCollection.add(project);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/templates/collectionButtonTemplate.js\nclass CollectionButtonTemplate {\n    static createContainer() {\n        const element = document.createElement('div');\n        element.classList.add('collectionButton');\n        return element;\n    }\n    \n    static createButton() {\n        const element = document.createElement('button');\n        element.setAttribute('type', 'button');\n        element.classList.add('collectionButton-button');\n        return element;\n    }\n    \n    static createDeleteButton() {\n        const element = document.createElement('button');\n        element.setAttribute('type', 'button');\n        element.classList.add('collectionButton-deleteButton');\n        element.innerText = 'X';\n        return element;\n    }\n\n    static create() {\n        const element = CollectionButtonTemplate.createContainer();\n        const button = CollectionButtonTemplate.createButton()\n        const deleteButton = CollectionButtonTemplate.createDeleteButton();\n        element.append(\n            button,\n            deleteButton\n        );\n        return {\n            element,\n            button,\n            deleteButton\n        };\n    }\n}\n\n\n;// CONCATENATED MODULE: ./src/modules/views/collectionButtonView.js\n\n\nclass CollectionButtonView {\n    constructor(controller) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.template = CollectionButtonTemplate;\n    }\n\n    create() {\n        const structure = CollectionButtonTemplate.create();\n        this.element = structure.element;\n        this.button = structure.button;\n        this.deleteButton = structure.deleteButton;\n    }\n\n    setInteractions() {\n        this.button.addEventListener('click', () => {this.controller.display()});\n        this.deleteButton.addEventListener('click', () => {this.controller.delete()});\n    }\n\n    build() {\n        this.create();\n        this.controller.updateView();\n        this.setInteractions();\n        return this.element;\n    }\n\n    remove() {\n        this.element.remove();\n    }\n\n    changeName(name) {\n        this.button.innerText = name;\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/controllers/collectionButtonController.js\nclass CollectionButtonController {\n    constructor(project, contentHook, buildProject) {\n        this.project = project;\n        this.project.addObserver(this);\n        this.contentHook = contentHook;\n        this.buildProject = buildProject;\n\n        this.displayedElement = undefined;\n\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n\n    updateView() {\n        this.view.changeName(this.project.name);\n    }\n\n    update() {\n        this.updateView();\n    }\n\n    finalize() {\n        this.project.removeObserver(this);\n    }\n\n    remove() {\n        this.view.remove();\n        if (this.displayedElement) {\n            const element = this.displayedElement.deref();\n            if (element) {\n                element.remove();\n            }\n        }\n    }\n\n    delete() {\n        this.project.unlink();\n        this.finalize();\n        this.remove();\n    }\n\n    display() {\n        this.displayedElement = new WeakRef(this.buildProject(this.project));\n        this.contentHook.replaceChildren(this.displayedElement.deref());\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/views/todoView.js\n\n\n\nclass TodoView {\n    constructor(controller, projectCollectionElement) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.projectCollectionElement = projectCollectionElement;\n    }\n\n    createContainer() {\n        const element = document.createElement('div');\n        element.classList.add('todoCollection');\n        return element;\n    }\n\n    createButton(name) {\n        const obj = CollectionButtonTemplate.create();\n        obj.button.innerText = name;\n        obj.deleteButton.remove();\n        return obj.element\n    }\n\n    createDefaultButtons() {\n        this.inboxButton = this.createButton('Inbox');\n        this.todayButton = this.createButton('Today');\n        this.thisWeekButton = this.createButton('This Week');\n        return [this.inboxButton, this.todayButton, this.thisWeekButton];\n    }\n\n    createDefaultCollection() {\n        const obj = ProjectCollectionTemplate.create();\n        this.defaultCollection = obj.element;\n        this.contentHook = obj.contentHook;\n        obj.addButton.remove();\n        return this.defaultCollection;\n    }\n\n    create() {\n        const element = this.createContainer();\n        const defaultCollection = this.createDefaultCollection();\n        this.contentHook.append(...this.createDefaultButtons())\n        element.append(\n            defaultCollection,\n            this.projectCollectionElement\n        );\n        return element;\n    }\n\n    setInteractions() {\n        this.inboxButton.addEventListener('click', () => {this.controller.displayInbox()});\n        this.todayButton.addEventListener('click', () => {this.controller.displayDueToday()});\n        this.thisWeekButton.addEventListener('click', () => {this.controller.displayDueThisWeek()});\n    }\n\n    build() {\n        this.element = this.create();\n        this.setInteractions();\n        return this.element;\n    }\n\n    replaceItems(elements) {\n        this.contentHook.replaceChildren(...elements);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/modules/controllers/todoController.js\n\n\nclass TodoController {\n    constructor(todo, contentHook, elementFactory) {\n        this.todo = todo;\n        this.contentHook = contentHook;\n        this.elementFactory = elementFactory;\n\n        this.view = undefined;\n    }\n\n    setView(view) {\n        this.view = view;\n    }\n\n    displayInbox() {\n        this.contentHook.replaceChildren(this.elementFactory.buildNoEditProject(this.todo.inbox));\n    }\n\n    createStaticProjectElement(name, taskList) {\n        const structure = ProjectTemplate.create();\n\n        structure.nameInput.setAttribute('readonly', '');\n        structure.nameInput.setAttribute('value', name)\n        structure.addTaskButton.remove();\n        structure.deleteButton.remove();\n\n        structure.tasksHook.replaceChildren(...taskList);\n\n        return structure.element;\n    }\n\n    displayDueToday() {\n        const dueToday = this.todo.getTasksDueToday();\n        const taskElements = dueToday.map((task) => {return this.elementFactory.buildTask(task)});\n        const element = this.createStaticProjectElement('Today', taskElements);\n        this.contentHook.replaceChildren(element);\n    }\n\n    displayDueThisWeek() {\n        const dueThisWeek = this.todo.getTasksDueThisWeek();\n        const taskElements = dueThisWeek.map((task) => {return this.elementFactory.buildTask(task)});\n        const element = this.createStaticProjectElement('This Week', taskElements);\n        this.contentHook.replaceChildren(element);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/views/noEditProjectView.js\n\n\nclass NoEditProjectView {\n    constructor(controller) {\n        this.controller = controller;\n        this.controller.setView(this);\n        this.element = undefined;\n        \n        this.template = ProjectTemplate;\n    }\n\n    create() {\n        const structure = ProjectTemplate.create();\n        this.element = structure.element;\n        this.nameInput = structure.nameInput;\n\n        this.nameInput.setAttribute('readonly', '');\n        structure.deleteButton.remove();\n\n        this.tasksHook = structure.tasksHook;\n        this.addTaskButton = structure.addTaskButton;\n    }\n\n    setInteractions() {\n        this.addTaskButton.addEventListener('click', () => {this.controller.addTaskInput()});\n    }\n\n    build() {\n        this.create();\n        this.controller.updateView();\n        this.setInteractions();\n        return this.element;\n    }\n\n    replaceItems(elements) {\n        this.tasksHook.replaceChildren(...elements);\n    }\n\n    addItem(element) {\n        this.tasksHook.append(element);\n    }\n\n    setName(name) {\n        this.nameInput.setAttribute('value', name);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/factories/elementFactory.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ElementFactory {\n    constructor(modelFactory, popUpLayer) {\n        this.modelFactory = modelFactory;\n        this.popUpLayer = popUpLayer;\n    }\n\n    buildChecklist(checklist) {\n        const view = new ChecklistView(\n            new ChecklistController(\n                checklist,\n                this,\n                (...args) => {return this.modelFactory.createChecklistItem(...args);}\n            )\n        )\n\n        const element = view.build();\n\n        return element;\n    }\n\n    buildTask(task) {\n        const checklistElement = this.buildChecklist(task.checklist)\n        const view = new TaskView(new TaskController(task, this, this.popUpLayer), checklistElement);\n        const element = view.build();\n        return element;\n    }\n\n    buildProject(project) {\n        const projectView = new ProjectView(new ProjectController(project, this, this.popUpLayer));\n        const element = projectView.build();\n        return element;\n    }\n\n    buildNoEditProject(project) {\n        const projectView = new NoEditProjectView(new ProjectController(project, this, this.popUpLayer));\n        const element = projectView.build();\n        return element;\n    }\n    \n    buildTaskInput(project) {\n        const view = new TaskInputView(new TaskInputController(project, (...args) => {return this.modelFactory.createTask(...args);}));\n        const element = view.build();\n        return element;\n    }\n\n    buildChecklistItem(item) {\n        const view = new ChecklistItemView(new ChecklistItemController(item));\n        const element = view.build();\n        return element;\n    }\n\n    buildProjectCollection(projectCollection, contentHook) {\n        const view = new ProjectCollectionView(new ProjectCollectionController(\n            projectCollection,\n            contentHook,\n            this,\n            (...args) => {return this.modelFactory.createProject(...args);}\n        ));\n        const element = view.build();\n        return element;\n    }\n\n    buildCollectionButton(project, contentHook) {\n        const view = new CollectionButtonView(new CollectionButtonController(\n            project,\n            contentHook,\n            (project) => {return this.buildProject(project)}\n        ));\n        const element = view.build();\n        return element;\n    }\n\n    buildTodo(todo, contentHook) {\n        const projectCollectionElement = this.buildProjectCollection(todo.projectCollection, contentHook);\n        const view = new TodoView(new TodoController(\n            todo,\n            contentHook,\n            this\n        ),\n        projectCollectionElement\n        );\n        return view.build();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/utils/eventManager.js\nclass EventManager {\n    constructor() {\n        this.observers = [];\n    }\n\n    addObserver(observer) {\n        this.observers.push(new WeakRef(observer));\n    }\n\n    removeObserver(observer) {\n        const index = this.observers.findIndex((ref) => ref.deref() === observer);\n        this.observers.splice(index, 1);\n    }\n\n    updateObservers() {\n        this.observers.forEach((ref, index) => {\n            const observer = ref.deref();\n            if (observer) {\n                observer.update();\n            } else {\n                this.observers.splice(index, 1);\n            }\n        }\n        );\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/models/task.js\n\n\n\nclass Task {\n    constructor(title, description, dueDate, priority = utils_priority.UNSET, checklist) {\n        this.title = title;\n        this.description = description;\n        this.dueDate = dueDate;\n        this.priority = priority;\n        this.checklist = checklist;\n        this.isDone = false;\n\n        this.project = undefined;\n        this.eventManager = new EventManager();\n    }\n\n    getData() {\n        return {\n            title: this.title,\n            description: this.description,\n            dueDate: this.dueDate,\n            priority: this.priority,\n            isDone: this.isDone,\n            checklist: this.checklist.getData()\n        };\n    }\n\n    unlink() {\n        if (this.project) {\n            this.project.remove(this);\n        }\n    }\n\n    link(project) {\n        this.unlink();\n        this.project = project;\n    }\n\n    setDone() {\n        this.isDone = true;\n        this.checklist.setDone();\n    }\n\n    setUndone() {\n        this.isDone = false;\n        this.checklist.setUndone();\n    }\n\n    toggleDone() {\n        if (this.isDone) {\n            this.setUndone();\n        } else {\n            this.setDone();\n        }\n    }\n\n    addObserver(observer) {\n        this.eventManager.addObserver(observer);\n    }\n\n    removeObserver(observer) {\n        this.eventManager.removeObserver(observer);\n    }\n\n    updateObservers() {\n        this.eventManager.updateObservers();\n    }\n\n    setState(object) {\n        Object.entries(object).forEach(\n            ([key, value] = entry) => {\n                this[key] = value;\n            }\n        );\n        this.updateObservers();\n    }\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/requiredArgs/index.js\nfunction requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/isDate/index.js\n\n\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nfunction isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/toDate/index.js\n\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nfunction toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/isValid/index.js\n\n\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nfunction isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/startOfDay/index.js\n\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nfunction startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/isSameDay/index.js\n\n\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nfunction isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/isToday/index.js\n\n\n/**\n * @name isToday\n * @category Day Helpers\n * @summary Is the given date today?\n * @pure false\n *\n * @description\n * Is the given date today?\n *\n * > ⚠️ Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is today\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // If today is 6 October 2014, is 6 October 14:00:00 today?\n * const result = isToday(new Date(2014, 9, 6, 14, 0))\n * //=> true\n */\nfunction isToday(dirtyDate) {\n  requiredArgs(1, arguments);\n  return isSameDay(dirtyDate, Date.now());\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/getDay/index.js\n\n\n/**\n * @name getDay\n * @category Weekday Helpers\n * @summary Get the day of the week of the given date.\n *\n * @description\n * Get the day of the week of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {0|1|2|3|4|5|6} the day of week, 0 represents Sunday\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which day of the week is 29 February 2012?\n * const result = getDay(new Date(2012, 1, 29))\n * //=> 3\n */\nfunction getDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  return day;\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/toInteger/index.js\nfunction toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/defaultOptions/index.js\nvar defaultOptions = {};\nfunction getDefaultOptions() {\n  return defaultOptions;\n}\nfunction setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/startOfWeek/index.js\n\n\n\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction startOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/isSameWeek/index.js\n\n\n/**\n * @name isSameWeek\n * @category Week Helpers\n * @summary Are the given dates in the same week (and month and year)?\n *\n * @description\n * Are the given dates in the same week (and month and year)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Boolean} the dates are in the same week (and month and year)\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // Are 31 August 2014 and 4 September 2014 in the same week?\n * const result = isSameWeek(new Date(2014, 7, 31), new Date(2014, 8, 4))\n * //=> true\n *\n * @example\n * // If week starts with Monday,\n * // are 31 August 2014 and 4 September 2014 in the same week?\n * const result = isSameWeek(new Date(2014, 7, 31), new Date(2014, 8, 4), {\n *   weekStartsOn: 1\n * })\n * //=> false\n *\n * @example\n * // Are 1 January 2014 and 1 January 2015 in the same week?\n * const result = isSameWeek(new Date(2014, 0, 1), new Date(2015, 0, 1))\n * //=> false\n */\nfunction isSameWeek(dirtyDateLeft, dirtyDateRight, options) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfWeek = startOfWeek(dirtyDateLeft, options);\n  var dateRightStartOfWeek = startOfWeek(dirtyDateRight, options);\n  return dateLeftStartOfWeek.getTime() === dateRightStartOfWeek.getTime();\n}\n;// CONCATENATED MODULE: ./node_modules/date-fns/esm/isThisWeek/index.js\n\n\n/**\n * @name isThisWeek\n * @category Week Helpers\n * @summary Is the given date in the same week as the current date?\n * @pure false\n *\n * @description\n * Is the given date in the same week as the current date?\n *\n * > ⚠️ Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * @param {Date|Number} date - the date to check\n * @param {Object} [options] - the object with options\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Boolean} the date is in this week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // If today is 25 September 2014, is 21 September 2014 in this week?\n * const result = isThisWeek(new Date(2014, 8, 21))\n * //=> true\n *\n * @example\n * // If today is 25 September 2014 and week starts with Monday\n * // is 21 September 2014 in this week?\n * const result = isThisWeek(new Date(2014, 8, 21), { weekStartsOn: 1 })\n * //=> false\n */\n\nfunction isThisWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  return isSameWeek(dirtyDate, Date.now(), options);\n}\n;// CONCATENATED MODULE: ./src/modules/utils/collectionWrapper.js\nclass CollectionWrapper {\n    constructor(items = []) {\n        this.items = items;\n    }\n\n    add(item) {\n        this.items.push(item);\n    }\n\n    remove(item) {\n        const position = this.items.findIndex((value) => value === item);\n        this.items.splice(position, 1);\n    }\n\n    insert(item, position) {\n        this.items.splice(position, 0, item);\n    }\n\n    replace(item, position) {\n        this.items.splice(position, 1, item);\n    }\n\n    get(position) {\n        return this.items[position]; \n    }\n\n    clean() {\n        this.items = [];\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/models/project.js\n\n\n\n\nclass Project {\n    constructor(name, items) {\n        this.name = name;\n        this.collection = new CollectionWrapper(items);\n        this.items.forEach((item) => item.link(this));\n        this.eventManager = new EventManager();\n        this.projectCollection = undefined;\n    }\n\n    get items() {\n        return this.collection.items;\n    }\n\n    getData() {\n        return {\n            name: this.name,\n            items: this.items.map((item) => item.getData())\n        };\n    }\n\n    add(item) {\n        this.collection.add(item);\n        item.link(this);\n        this.updateObservers();\n    }\n\n    remove(item) {\n        this.collection.remove(item);\n        this.updateObservers();\n    }\n\n    unlink() {\n        if (this.projectCollection) {\n            this.projectCollection.remove(this);\n        }\n    }\n\n    link(projectCollection) {\n        this.unlink();\n        this.projectCollection = projectCollection;\n    }\n\n    getDueToday() {\n        const due = this.items.filter((item) => {\n            const dateObj = new Date(item.dueDate.replace('-', '/'));\n            return isValid(dateObj) && isToday(dateObj);\n        }\n        );\n        return due;\n    }\n\n    getDueThisWeek() {\n        const todayWeekDay = getDay(new Date());\n        const due = this.items.filter((item) => {\n            const dateObj = new Date(item.dueDate.replace('-', '/'));\n            return isValid(dateObj) && isThisWeek(dateObj, {weekStartsOn: todayWeekDay})   \n        }\n        );\n        return due;\n    }\n\n    addObserver(observer) {\n        this.eventManager.addObserver(observer);\n    }\n\n    removeObserver(observer) {\n        this.eventManager.removeObserver(observer);\n    }\n\n    updateObservers() {\n        this.eventManager.updateObservers();\n    }\n\n    setState(object) {\n        Object.entries(object).forEach(\n            ([key, value] = entry) => {\n                this[key] = value;\n            }\n        );\n        this.updateObservers();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/models/checklistItem.js\nclass ChecklistItem {\n    constructor(description) {\n        this.description = description;\n        this.isDone = false;\n        \n        this.checklist = undefined;\n    }\n\n    getData() {\n        return {\n            description: this.description,\n            isDone: this.isDone\n        };\n    }\n\n    unlink() {\n        if (this.checklist === undefined) {return;}\n        this.checklist.remove(this);\n    }\n\n    link(checklist) {\n        this.unlink();\n        this.checklist = checklist;\n    }\n\n    setDone() {\n        this.isDone = true;\n    }\n\n    setUndone() {\n        this.isDone = false;\n    }\n\n    toggleDone() {\n        if (this.isDone) {\n            this.setUndone();\n        } else {\n            this.setDone();\n        }\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/models/checklist.js\n\n\n\nclass Checklist {\n    constructor(items) {\n        this.collection = new CollectionWrapper(items);\n        this.items.forEach((item) => item.link(this));\n        this.eventManager = new EventManager();\n    }\n\n    get items() {\n        return this.collection.items;\n    }\n\n    getData() {\n        return {items: this.items.map((item) => item.getData())}\n    }\n\n    add(item) {\n        this.collection.add(item);\n        item.link(this);\n        this.updateObservers();\n    }\n\n    remove(item) {\n        this.collection.remove(item);\n        this.updateObservers();\n    }\n\n    setDone() {\n        this.items.forEach((item) => item.setDone());\n    }\n\n    setUndone() {\n        this.items.forEach((item) => item.setUndone());\n    }\n\n    toggleDone() {\n        this.items.forEach((item) => item.toggleDone());\n    }\n\n    addObserver(observer) {\n        this.eventManager.addObserver(observer);\n    }\n\n    removeObserver(observer) {\n        this.eventManager.removeObserver(observer);\n    }\n\n    updateObservers() {\n        this.eventManager.updateObservers();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/models/projectCollection.js\n\n\n\nclass ProjectCollection {\n    constructor(items) {\n        this.collection = new CollectionWrapper(items);\n        this.items.forEach((item) => item.link(this));\n        this.eventManager = new EventManager();\n    }\n\n    get items() {\n        return this.collection.items;\n    }\n\n    getData() {\n        return {\n            items: this.items.map((item) => item.getData())\n        };\n    }\n\n    add(item) {\n        this.collection.add(item);\n        item.link(this);\n        this.updateObservers();\n    }\n\n    remove(item) {\n        this.collection.remove(item);\n        this.updateObservers();\n    }\n\n    getTasksDueToday() {\n        const tasks = this.items.reduce((total, item) => {\n            const due = item.getDueToday();\n            if (due) {\n                total.push(...due);\n            }\n            return total;\n        }, []);\n        return tasks;\n    }\n\n    getTasksDueThisWeek() {\n        const tasks = this.items.reduce((total, item) => {\n            const due = item.getDueThisWeek();\n            if (due) {\n                total.push(...due);\n            }\n            return total;\n        }, []);\n        return tasks;\n    }\n\n    addObserver(observer) {\n        this.eventManager.addObserver(observer);\n    }\n\n    removeObserver(observer) {\n        this.eventManager.removeObserver(observer);\n    }\n\n    updateObservers() {\n        this.eventManager.updateObservers();\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/models/todoList.js\nclass TodoList {\n    constructor(project, projectCollection) {\n        this.inbox = project;\n        this.projectCollection = projectCollection;\n    }\n\n    getData() {\n        return {\n            inbox: this.inbox.getData(),\n            projectCollection: this.projectCollection.getData()\n        };\n    }\n\n    getTasksDueToday() {\n        const due = [];\n        due.push(...this.inbox.getDueToday(), ...this.projectCollection.getTasksDueToday());\n        return due;\n    }\n\n    getTasksDueThisWeek() {\n        const due = [];\n        due.push(...this.inbox.getDueThisWeek(), ...this.projectCollection.getTasksDueThisWeek());\n        return due;\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/factories/modelFactory.js\n\n\n\n\n\n\n\nclass ModelFactory {\n    createChecklist(items) {\n        const checklist = new Checklist(items);\n        return checklist;\n    }\n\n    createChecklistItem(description) {\n        const item = new ChecklistItem(description);\n        return item;\n    }\n\n    createTask(title, description, dueDate, priority, checklist) {\n        if (!checklist) {\n            checklist = this.createChecklist();\n        }\n        const task = new Task(title, description, dueDate, priority, checklist);\n        return task;\n    }\n\n    createProject(name, items) {\n        const project = new Project(name, items);\n        return project;\n    }\n\n    createProjectCollection(items) {\n        const projectCollection = new ProjectCollection(items);\n        return projectCollection;\n    }\n\n    createTodo(project, projectCollection) {\n        const todo = new TodoList(project, projectCollection);\n        return todo;\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/factories/proxyFactory.js\nclass ProxyFactory {\n    constructor(modelFactory, proxyWrapper) {\n        this.modelFactory = modelFactory;\n        this.proxyWrapper = proxyWrapper;\n    }\n\n    createChecklist(items = []) {\n        const model = this.modelFactory.createChecklist(this.proxyWrapper(items));\n        return this.proxyWrapper(model);\n    }\n\n    createChecklistItem(description) {\n        const model = this.modelFactory.createChecklistItem(description);\n        return this.proxyWrapper(model);\n    }\n\n    createTask(title, description, dueDate, priority, checklist) {\n        if (!checklist) {\n            checklist = this.createChecklist();\n        }\n        const model = this.modelFactory.createTask(title, description, dueDate, priority, checklist);\n        return this.proxyWrapper(model);\n    }\n\n    createProject(name, items = []) {\n        const model = this.modelFactory.createProject(name, this.proxyWrapper(items));\n        return this.proxyWrapper(model);\n    }\n\n    createProjectCollection(items = []) {\n        const model = this.modelFactory.createProjectCollection(this.proxyWrapper(items));\n        return this.proxyWrapper(model);\n    }\n\n    createTodo(project, projectCollection) {\n        const model = this.modelFactory.createTodo(project, projectCollection);\n        return this.proxyWrapper(model);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/utils/storage.js\nclass StorageWrapper {\n    constructor(storageMechanism) {\n        this.storageMechanism = storageMechanism;\n    }\n\n    saveTodo(todo) {\n        this.storageMechanism.setItem('todo', JSON.stringify(todo.getData()));\n    }\n\n    getTodo() {\n        return JSON.parse(this.storageMechanism.getItem('todo'));\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/utils/changeListenerProxy.js\nclass ChangeListenerProxy {\n    constructor(callback = (() => {return;})) {\n        this.callback = callback;\n    }\n\n    setCallback(callback) {\n        this.callback = callback;\n    }\n\n    wrapObject(obj) {\n        // This additional line makes sure that when the callback is called the callback will be the one\n        // stored currently in this.callback\n        const callback = () => {this.callback()};\n        return new Proxy(obj, {\n            set(target, property, value) {\n                target[property] = value;\n                callback();\n                return true;\n            }\n        });\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/factories/loadFactory.js\nclass LoadFactory {\n    constructor(modelFactory) {\n        this.modelFactory = modelFactory;\n    }\n\n    loadChecklistItem(data) {\n        const item = this.modelFactory.createChecklistItem(data.description);\n        if (data.isDone) {item.setDone()}\n        return item;\n    }\n\n    loadChecklist(data) {\n        const items = data.items.map((dataItem) => this.loadChecklistItem(dataItem));\n        const checklist = this.modelFactory.createChecklist(items);\n        return checklist;\n    }\n\n    loadTask(data) {\n        const checklist = this.loadChecklist(data.checklist);\n        const task = this.modelFactory.createTask(data.title, data.description, data.dueDate, data.priority, checklist);\n        if (data.isDone) {task.setDone()}\n        return task;\n    }\n\n    loadProject(data) {\n        const items = data.items.map((dataItem) => this.loadTask(dataItem));\n        const project = this.modelFactory.createProject(data.name, items);\n        return project;\n    }\n\n    loadProjectCollection(data) {\n        const items = data.items.map((dataItem) => this.loadProject(dataItem));\n        const projectCollection = this.modelFactory.createProjectCollection(items);\n        return projectCollection;\n    }\n\n    loadTodo(data) {\n        const projectCollection = this.loadProjectCollection(data.projectCollection);\n        const inbox = this.loadProject(data.inbox);\n        const todo = this.modelFactory.createTodo(inbox, projectCollection);\n        return todo;\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/popUp/popUpPositions.js\nconst Positions = Object.freeze({\n    TOP_LEFT: \"popUp--topLeft\",\n    TOP_MID: \"popUp--topMid\",\n    TOP_RIGHT: \"popUp--topRight\",\n    CENTER_LEFT: \"popUp--centerLeft\",\n    CENTER: \"popUp--center\",\n    CENTER_RIGHT: \"popUp--centerRight\",\n    BOTTOM_LEFT: \"popUp--bottomLeft\",\n    BOTTOM_MID: \"popUp--bottomMid\",\n    BOTTOM_RIGHT: \"popUp--bottomRight\"\n});\n\n/* harmony default export */ const popUpPositions = (Positions);\n;// CONCATENATED MODULE: ./src/modules/popUp/popUp.js\n\n\nfunction createPopUp(element, clickLock = false, backgroundColor = \"#ffffff00\", position = popUpPositions.CENTER) {\n    const popUp = document.createElement('div');\n    popUp.classList.add('popUp');\n    popUp.classList.add(position);\n    popUp.style.backgroundColor = backgroundColor;\n    \n    const popUpWrapper = document.createElement('div');\n    popUpWrapper.classList.add('popUp-wrapper');\n\n    popUpWrapper.append(element);\n    popUp.append(popUpWrapper);\n    \n    if (clickLock) {\n        popUp.classList.add('popUp--clickLocked');\n    }\n\n    const observer = new MutationObserver((mutationList, observer) => {\n        popUp.remove();\n        observer.disconnect();\n    })\n\n    observer.observe(popUpWrapper, { childList: true });\n\n    return popUp;\n}\n;// CONCATENATED MODULE: ./src/modules/popUp/popUpLayer.js\n\n\nclass PopupLayer {\n    constructor(contentHook) {\n        this.contentHook = contentHook;\n        this.contentHook.classList.add('popUpLayer');\n    }\n\n    addPopUp(element, clickLock, backgroundColor, position) {\n        const popUp = createPopUp(element, clickLock, backgroundColor, position)\n        this.contentHook.append(popUp);\n    }\n}\n;// CONCATENATED MODULE: ./src/modules/customElements/scrollContainer.js\nclass ScrollContainer extends HTMLElement {\n    constructor() {\n        super();\n        const sheet = new CSSStyleSheet();\n        sheet.replaceSync(`\n        :host {\n            display: block;\n            position: relative;\n            height: 100%;\n            width: 100%;\n        }\n        \n        .wrapper {\n            position: absolute;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            overflow-y: clip;\n        }\n\n        .secondWrapper {\n            height: 100%;\n            overflow-y: auto;\n        }\n\n        `\n        );\n        const shadow = this.attachShadow({ mode: 'open' });\n        this.shadowRoot.adoptedStyleSheets = [sheet];\n\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('wrapper');\n\n        const secondWrapper = document.createElement('div');\n        secondWrapper.classList.add('secondWrapper');\n\n        const slot = document.createElement('slot');\n\n        secondWrapper.append(slot)\n        wrapper.append(secondWrapper);\n        this.shadowRoot.append(wrapper);\n    }\n}\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\n\n\n\n\n\ncustomElements.define('scroll-container', ScrollContainer);\n\nconst sidebarHook = document.querySelector(\".sidebar\");\nconst contentHook = document.querySelector(\".content\");\n\nconst proxyWrapper = new ChangeListenerProxy();\nconst storageWrapper = new StorageWrapper(localStorage);\nconst modelFactory = new ModelFactory();\nconst modelProxyFactory = new ProxyFactory(modelFactory, (item) => {return proxyWrapper.wrapObject(item)})\nconst loadFactory = new LoadFactory(modelProxyFactory);\n\nconst popUpElement = document.createElement('div');\nconst popUpLayer = new PopupLayer(popUpElement);\n\nconst elementFactory = new ElementFactory(modelProxyFactory, popUpLayer);\n\nconst data = storageWrapper.getTodo()\nlet todo;\nif (data) {\n    todo = loadFactory.loadTodo(data);\n} else {\n    todo = modelProxyFactory.createTodo(modelProxyFactory.createProject('Inbox'), modelProxyFactory.createProjectCollection());\n}\n\n// This sets current and future object proxies to refer to this callback\nproxyWrapper.setCallback(() => {storageWrapper.saveTodo(todo)});\n\ndocument.body.append(popUpElement);\nsidebarHook.append(elementFactory.buildTodo(todo, contentHook));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVBO0FBQ0Esc0JBQXNCLFdBQVc7QUFDakM7QUFDQTtBQUNBLEM7O0FDWmU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLGNBQWM7QUFDekQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7QUMzQ3FCO0FBQzJDO0FBQ0o7QUFDQTtBQUNQO0FBQ2lCO0FBQ1o7QUFDTjtBQUNtQjs7O0FBR3ZFLDBDQUEwQyxlQUFlOztBQUV6RDtBQUNBOztBQUVBLHlCQUF5QixtQkFBbUI7QUFDNUMsMkJBQTJCLGNBQWM7QUFDekMseUJBQXlCLFlBQVk7QUFDckMsOEJBQThCLFlBQVksMEJBQTBCLHFDQUFxQztBQUN6Ryx3QkFBd0IsV0FBVzs7QUFFbkM7QUFDQSx1QkFBdUIsVUFBVTs7QUFFakMsMkJBQTJCLGNBQWM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0MsOEJBQThCOztBQUU5RDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2NvbnRyb2xsZXJzL3Rhc2tDb250cm9sbGVyLmpzP2IzNjUiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3V0aWxzL3ByaW9yaXR5LmpzPzU0NTUiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3ZpZXdzL3Rhc2tWaWV3LmpzPzE1OTAiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2NvbnRyb2xsZXJzL3Byb2plY3RDb250cm9sbGVyLmpzPzY3NjYiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlcy9wcm9qZWN0VGVtcGxhdGUuanM/NDhmMSIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdmlld3MvcHJvamVjdFZpZXcuanM/OWYyMiIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXRpbHMvdGFza0ZpZWxkcy5qcz9hZjczIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9jb250cm9sbGVycy90YXNrSW5wdXRDb250cm9sbGVyLmpzP2Q2ODYiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlcy90YXNrRm9ybVRlbXBsYXRlLmpzPzQxYWIiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3ZpZXdzL3Rhc2tJbnB1dFZpZXcuanM/NDcxMCIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdmlld3MvY2hlY2tsaXN0Vmlldy5qcz8wMjc5Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9jb250cm9sbGVycy9jaGVja2xpc3RDb250cm9sbGVyLmpzP2RmZGMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3ZpZXdzL2NoZWNrbGlzdEl0ZW1WaWV3LmpzPzlkNzEiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2NvbnRyb2xsZXJzL2NoZWNrbGlzdEl0ZW1Db250cm9sbGVyLmpzPzQ3NTkiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlcy9wcm9qZWN0Q29sbGVjdGlvblRlbXBsYXRlLmpzP2EyMzYiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3ZpZXdzL3Byb2plY3RDb2xsZWN0aW9uVmlldy5qcz8zMTFlIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9jb250cm9sbGVycy9wcm9qZWN0Q29sbGVjdGlvbkNvbnRyb2xsZXIuanM/Y2UwOCIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdGVtcGxhdGVzL2NvbGxlY3Rpb25CdXR0b25UZW1wbGF0ZS5qcz9jODQxIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy92aWV3cy9jb2xsZWN0aW9uQnV0dG9uVmlldy5qcz9lYjNiIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9jb250cm9sbGVycy9jb2xsZWN0aW9uQnV0dG9uQ29udHJvbGxlci5qcz8yMGQ3Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy92aWV3cy90b2RvVmlldy5qcz9iZTliIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9jb250cm9sbGVycy90b2RvQ29udHJvbGxlci5qcz85MTVkIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy92aWV3cy9ub0VkaXRQcm9qZWN0Vmlldy5qcz9mN2Q1Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9mYWN0b3JpZXMvZWxlbWVudEZhY3RvcnkuanM/MjhlNCIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXRpbHMvZXZlbnRNYW5hZ2VyLmpzPzU5M2MiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL21vZGVscy90YXNrLmpzPzNlMzEiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanM/ZTdmYiIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcz84Yzg2Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzRGF0ZS9pbmRleC5qcz9hN2U0Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3RvRGF0ZS9pbmRleC5qcz9mZDNhIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVmFsaWQvaW5kZXguanM/NDllZiIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9zdGFydE9mRGF5L2luZGV4LmpzPzMzN2UiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNTYW1lRGF5L2luZGV4LmpzPzFiYTQiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNUb2RheS9pbmRleC5qcz80ZTMxIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2dldERheS9pbmRleC5qcz8xYTg2Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzP2ZlMWYiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9kZWZhdWx0T3B0aW9ucy9pbmRleC5qcz9iZWFmIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZXZWVrL2luZGV4LmpzPzY5ZWIiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNTYW1lV2Vlay9pbmRleC5qcz8yNGVkIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVGhpc1dlZWsvaW5kZXguanM/ZGZlMSIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXRpbHMvY29sbGVjdGlvbldyYXBwZXIuanM/YTUzMyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvbW9kZWxzL3Byb2plY3QuanM/YmViYyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvbW9kZWxzL2NoZWNrbGlzdEl0ZW0uanM/NmQ1ZiIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvbW9kZWxzL2NoZWNrbGlzdC5qcz9iODc0Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9tb2RlbHMvcHJvamVjdENvbGxlY3Rpb24uanM/MTUwNCIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvbW9kZWxzL3RvZG9MaXN0LmpzPzIwMmYiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2ZhY3Rvcmllcy9tb2RlbEZhY3RvcnkuanM/OTkwYSIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvZmFjdG9yaWVzL3Byb3h5RmFjdG9yeS5qcz9iODk4Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy91dGlscy9zdG9yYWdlLmpzPzY3YmEiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3V0aWxzL2NoYW5nZUxpc3RlbmVyUHJveHkuanM/ZDlhOSIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvZmFjdG9yaWVzL2xvYWRGYWN0b3J5LmpzPzkwZDQiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3BvcFVwL3BvcFVwUG9zaXRpb25zLmpzP2UwN2EiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3BvcFVwL3BvcFVwLmpzP2EwNjEiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3BvcFVwL3BvcFVwTGF5ZXIuanM/ZmMxNyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvY3VzdG9tRWxlbWVudHMvc2Nyb2xsQ29udGFpbmVyLmpzP2ZlY2EiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXNrLCBlbGVtZW50RmFjdG9yeSwgcG9wVXBMYXllcikge1xuICAgICAgICB0aGlzLnRhc2sgPSB0YXNrO1xuICAgICAgICB0aGlzLnRhc2suYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgICAgICAgdGhpcy5wb3BVcExheWVyID0gcG9wVXBMYXllcjtcbiAgICAgICAgdGhpcy52aWV3ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHNldFZpZXcodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIH1cblxuICAgIHRvZ2dsZSgpIHtcbiAgICAgICAgdGhpcy50YXNrLnRvZ2dsZURvbmUoKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VUaXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLnRhc2sudGl0bGUgPSB0aXRsZTtcbiAgICB9XG5cbiAgICBjaGFuZ2VEZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLnRhc2suZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBjaGFuZ2VQcmlvcml0eShwcmlvcml0eSkge1xuICAgICAgICB0aGlzLnRhc2sucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB9XG5cbiAgICBjaGFuZ2VEdWVEYXRlKGRhdGUpIHtcbiAgICAgICAgdGhpcy50YXNrLmR1ZURhdGUgPSBkYXRlO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpZXcoKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXREb25lKHRoaXMudGFzay5pc0RvbmUpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0VGl0bGUodGhpcy50YXNrLnRpdGxlKTtcbiAgICAgICAgdGhpcy52aWV3LnNldERlc2NyaXB0aW9uKHRoaXMudGFzay5kZXNjcmlwdGlvbik7XG4gICAgICAgIHRoaXMudmlldy5zZXRQcmlvcml0eSh0aGlzLnRhc2sucHJpb3JpdHkpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0RHVlRGF0ZSh0aGlzLnRhc2suZHVlRGF0ZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpIHtcbiAgICAgICAgdGhpcy50YXNrLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuICAgIH1cblxuICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICB0aGlzLnRhc2sudW5saW5rKCk7XG4gICAgICAgIHRoaXMudmlldy5yZW1vdmUoKTtcbiAgICB9XG59IiwiY29uc3QgUHJpb3JpdHkgPSBPYmplY3QuZnJlZXplKHtcbiAgICBISUdIOiAnSGlnaCcsXG4gICAgTUVESVVNOiAnTWVkaXVtJyxcbiAgICBMT1c6IFwiTG93XCIsXG4gICAgVU5TRVQ6IFwiVW5zZXRcIlxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFByaW9yaXR5OyIsImltcG9ydCBQcmlvcml0eSBmcm9tIFwiLi4vdXRpbHMvcHJpb3JpdHlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFza1ZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIGNoZWNrbGlzdEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnNldFZpZXcodGhpcyk7XG4gICAgICAgIHRoaXMuY2hlY2tsaXN0RWxlbWVudCA9IGNoZWNrbGlzdEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGFzaycpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVIZWFkZXJDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0YXNrLWhlYWRlcicpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVEaXNwbGF5Q2hlY2tib3goKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheUNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5Q2hlY2tib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICAgIHRoaXMuZGlzcGxheUNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ3Rhc2stZGlzcGxheVRvZ2dsZScpO1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5Q2hlY2tib3g7XG4gICAgfVxuXG4gICAgY3JlYXRlRG9uZVRvZ2dsZSgpIHtcbiAgICAgICAgdGhpcy5kb25lVG9nZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdGhpcy5kb25lVG9nZ2xlLnNldEF0dHJpYnV0ZSgndHlwZScsICdjaGVja2JveCcpO1xuICAgICAgICB0aGlzLmRvbmVUb2dnbGUuY2xhc3NMaXN0LmFkZCgndGFzay1kb25lVG9nZ2xlJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvbmVUb2dnbGU7XG4gICAgfVxuXG4gICAgY3JlYXRlVGl0bGVJbnB1dCgpIHtcbiAgICAgICAgdGhpcy50aXRsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdGhpcy50aXRsZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICAgIHRoaXMudGl0bGVJbnB1dC5jbGFzc0xpc3QuYWRkKCd0YXNrLXRpdGxlSW5wdXQnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGVJbnB1dDtcbiAgICB9XG5cbiAgICBjcmVhdGVEYXRlSW5wdXQoKSB7XG4gICAgICAgIHRoaXMuZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdGhpcy5kYXRlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2RhdGUnKTtcbiAgICAgICAgdGhpcy5kYXRlSW5wdXQuY2xhc3NMaXN0LmFkZCgndGFzay1kYXRlSW5wdXQnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZUlucHV0O1xuICAgIH1cblxuICAgIGNyZWF0ZVByaW9yaXR5KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdjaGVja2JveCcpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB2YWx1ZSk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncHJpb3JpdHlTZWxlY3Rvci1wcmlvcml0eScpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVQcmlvcml0aWVzQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5U2VsZWN0b3InKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlUHJpb3JpdHlFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5wcmlvcml0eUVsZW1lbnRzID0gT2JqZWN0LnZhbHVlcyhQcmlvcml0eSkudG9SZXZlcnNlZCgpLm1hcCgodmFsdWUpID0+IHRoaXMuY3JlYXRlUHJpb3JpdHkodmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpb3JpdHlFbGVtZW50cztcbiAgICB9XG5cbiAgICBjcmVhdGVEZWxldGVCdXR0b24oKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgdGhpcy5kZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgndGFzay1kZWxldGVCdXR0b24nKTtcbiAgICAgICAgdGhpcy5kZWxldGVCdXR0b24uaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUJ1dHRvbjtcbiAgICB9XG5cbiAgICBjcmVhdGVCb2R5Q29udGFpbmVyKCkge1xuICAgICAgICB0aGlzLmJvZHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5ib2R5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Rhc2stYm9keScpO1xuICAgICAgICB0aGlzLnNldEJvZHlWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keUNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjcmVhdGVEZXNjcmlwdGlvbklucHV0KCkge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uSW5wdXQuY2xhc3NMaXN0LmFkZCgndGFzay1kZXNjcmlwdGlvbklucHV0Jyk7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ1R5cGUgaGVyZS4uLicpXG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uSW5wdXQ7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5jcmVhdGVIZWFkZXJDb250YWluZXIoKTtcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuY3JlYXRlQm9keUNvbnRhaW5lcigpO1xuXG4gICAgICAgIGNvbnN0IHByaW9yaXRpZXNDb250YWluZXIgPSB0aGlzLmNyZWF0ZVByaW9yaXRpZXNDb250YWluZXIoKTtcbiAgICAgICAgcHJpb3JpdGllc0NvbnRhaW5lci5hcHBlbmQoLi4udGhpcy5jcmVhdGVQcmlvcml0eUVsZW1lbnRzKCkpXG4gICAgICAgIFxuICAgICAgICBoZWFkZXIuYXBwZW5kKFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEaXNwbGF5Q2hlY2tib3goKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRG9uZVRvZ2dsZSgpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUaXRsZUlucHV0KCksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURhdGVJbnB1dCgpLFxuICAgICAgICAgICAgcHJpb3JpdGllc0NvbnRhaW5lcixcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVsZXRlQnV0dG9uKClcbiAgICAgICAgKTtcblxuICAgICAgICBib2R5LmFwcGVuZChcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVzY3JpcHRpb25JbnB1dCgpLFxuICAgICAgICAgICAgdGhpcy5jaGVja2xpc3RFbGVtZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgZWxlbWVudC5hcHBlbmQoaGVhZGVyLCBib2R5KTtcblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzZXRJbnRlcmFjdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY29udHJvbGxlci5kZWxldGUoKX0pO1xuICAgICAgICB0aGlzLmRvbmVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge3RoaXMuY29udHJvbGxlci50b2dnbGUoKX0pO1xuICAgICAgICB0aGlzLnRpdGxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHt0aGlzLmNvbnRyb2xsZXIuY2hhbmdlVGl0bGUoZS50YXJnZXQudmFsdWUpfSk7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge3RoaXMuY29udHJvbGxlci5jaGFuZ2VEZXNjcmlwdGlvbihlLnRhcmdldC52YWx1ZSl9KTtcbiAgICAgICAgdGhpcy5kYXRlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHt0aGlzLmNvbnRyb2xsZXIuY2hhbmdlRHVlRGF0ZShlLnRhcmdldC52YWx1ZSl9KTtcbiAgICAgICAgdGhpcy5wcmlvcml0eUVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByaW9yaXR5KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmNoYW5nZVByaW9yaXR5KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlzcGxheUNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7dGhpcy5zZXRCb2R5VmlzaWJpbGl0eShlLnRhcmdldC5jaGVja2VkKX0pXG4gICAgfVxuXG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci51cGRhdGVWaWV3KCk7XG4gICAgICAgIHRoaXMuc2V0SW50ZXJhY3Rpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0VGl0bGUodGl0bGUpIHtcbiAgICAgICAgdGhpcy50aXRsZUlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0aXRsZSlcbiAgICB9XG5cbiAgICBzZXREZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBzZXRQcmlvcml0eShwcmlvcml0eSkge1xuICAgICAgICB0aGlzLnByaW9yaXR5RWxlbWVudHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWUgPT09IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpdGVtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaXRlbS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXREdWVEYXRlKGRhdGUpIHtcbiAgICAgICAgdGhpcy5kYXRlSW5wdXQudmFsdWUgPSBkYXRlO1xuICAgIH1cblxuICAgIHNldERvbmUoaXNEb25lKSB7XG4gICAgICAgIHRoaXMuZG9uZVRvZ2dsZS5jaGVja2VkID0gaXNEb25lO1xuICAgIH1cblxuICAgIHNldEJvZHlWaXNpYmlsaXR5KGlzVmlzaWJsZSkge1xuICAgICAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmJvZHlDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndGFzay1ib2R5LS1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0YXNrLWJvZHktLWhpZGRlbicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3RDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9qZWN0LCBlbGVtZW50RmFjdG9yeSwgcG9wVXBMYXllcikge1xuICAgICAgICB0aGlzLmVsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gICAgICAgIHRoaXMucG9wVXBMYXllciA9IHBvcFVwTGF5ZXI7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMucHJvamVjdC5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHNldFZpZXcodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIH1cblxuICAgIGFkZFRhc2tJbnB1dCgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudEZhY3RvcnkuYnVpbGRUYXNrSW5wdXQodGhpcy5wcm9qZWN0KTtcbiAgICAgICAgdGhpcy5wb3BVcExheWVyLmFkZFBvcFVwKGVsZW1lbnQsIHRydWUsIFwiIzgwODA4MDgwXCIpO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpZXcoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5wcm9qZWN0Lml0ZW1zLm1hcChcbiAgICAgICAgICAgIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEZhY3RvcnkuYnVpbGRUYXNrKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHRoaXMudmlldy5yZXBsYWNlSXRlbXMoZWxlbWVudHMpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0TmFtZSh0aGlzLnByb2plY3QubmFtZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0LnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuICAgIH1cblxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnByb2plY3QudW5saW5rKCk7XG4gICAgfVxuXG4gICAgY2hhbmdlTmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMucHJvamVjdC5zZXRTdGF0ZSh7bmFtZX0pO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBjcmVhdGVDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Jyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVIZWFkZXJDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWhlYWRlcicpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlTmFtZUlucHV0KCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnUHJvamVjdCBOYW1lJyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1uYW1lSW5wdXQnKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZURlbGV0ZUJ1dHRvbigpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWRlbGV0ZUJ1dHRvbicpO1xuICAgICAgICBlbGVtZW50LmlubmVyVGV4dCA9ICdYJztcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUJvZHlDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWJvZHknKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUJvZHlXcmFwcGVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2Nyb2xsLWNvbnRhaW5lcicpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlVGFza3NIb29rKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1jb250ZW50SG9vaycpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlQWRkVGFza0lucHV0QnV0dG9uKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtYWRkQnV0dG9uJyk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gJ0FkZCBUYXNrICsnO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gUHJvamVjdFRlbXBsYXRlLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICBjb25zdCBoZWFkZXJDb250YWluZXIgPSBQcm9qZWN0VGVtcGxhdGUuY3JlYXRlSGVhZGVyQ29udGFpbmVyKCk7XG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IFByb2plY3RUZW1wbGF0ZS5jcmVhdGVOYW1lSW5wdXQoKTtcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gUHJvamVjdFRlbXBsYXRlLmNyZWF0ZURlbGV0ZUJ1dHRvbigpO1xuICAgICAgICBjb25zdCBib2R5Q29udGFpbmVyID0gUHJvamVjdFRlbXBsYXRlLmNyZWF0ZUJvZHlDb250YWluZXIoKTtcbiAgICAgICAgY29uc3QgYm9keVdyYXBwZXIgPSBQcm9qZWN0VGVtcGxhdGUuY3JlYXRlQm9keVdyYXBwZXIoKTtcbiAgICAgICAgY29uc3QgdGFza3NIb29rID0gUHJvamVjdFRlbXBsYXRlLmNyZWF0ZVRhc2tzSG9vaygpO1xuICAgICAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gUHJvamVjdFRlbXBsYXRlLmNyZWF0ZUFkZFRhc2tJbnB1dEJ1dHRvbigpO1xuXG4gICAgICAgIGhlYWRlckNvbnRhaW5lci5hcHBlbmQoXG4gICAgICAgICAgICBuYW1lSW5wdXQsXG4gICAgICAgICAgICBkZWxldGVCdXR0b25cbiAgICAgICAgKTtcblxuICAgICAgICBib2R5V3JhcHBlci5hcHBlbmQoXG4gICAgICAgICAgICB0YXNrc0hvb2ssXG4gICAgICAgICAgICBhZGRUYXNrQnV0dG9uXG4gICAgICAgICk7XG5cbiAgICAgICAgYm9keUNvbnRhaW5lci5hcHBlbmQoXG4gICAgICAgICAgICBib2R5V3JhcHBlclxuICAgICAgICApO1xuXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKFxuICAgICAgICAgICAgaGVhZGVyQ29udGFpbmVyLFxuICAgICAgICAgICAgYm9keUNvbnRhaW5lclxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgbmFtZUlucHV0LFxuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLFxuICAgICAgICAgICAgdGFza3NIb29rLFxuICAgICAgICAgICAgYWRkVGFza0J1dHRvblxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBQcm9qZWN0VGVtcGxhdGUgZnJvbSBcIi4uL3RlbXBsYXRlcy9wcm9qZWN0VGVtcGxhdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnNldFZpZXcodGhpcyk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBQcm9qZWN0VGVtcGxhdGU7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBzdHJ1Y3R1cmUgPSBQcm9qZWN0VGVtcGxhdGUuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHN0cnVjdHVyZS5lbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWVJbnB1dCA9IHN0cnVjdHVyZS5uYW1lSW5wdXQ7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uID0gc3RydWN0dXJlLmRlbGV0ZUJ1dHRvbjtcbiAgICAgICAgdGhpcy50YXNrc0hvb2sgPSBzdHJ1Y3R1cmUudGFza3NIb29rO1xuICAgICAgICB0aGlzLmFkZFRhc2tCdXR0b24gPSBzdHJ1Y3R1cmUuYWRkVGFza0J1dHRvbjtcbiAgICB9XG5cbiAgICBzZXRJbnRlcmFjdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLmNvbnRyb2xsZXIuYWRkVGFza0lucHV0KCl9KTtcbiAgICAgICAgdGhpcy5uYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHRoaXMuY29udHJvbGxlci5jaGFuZ2VOYW1lKGUudGFyZ2V0LnZhbHVlKSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmRlbGV0ZSgpKTtcbiAgICB9XG5cbiAgICBidWlsZCgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnVwZGF0ZVZpZXcoKTtcbiAgICAgICAgdGhpcy5zZXRJbnRlcmFjdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICByZXBsYWNlSXRlbXMoZWxlbWVudHMpIHtcbiAgICAgICAgdGhpcy50YXNrc0hvb2sucmVwbGFjZUNoaWxkcmVuKC4uLmVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50YXNrc0hvb2suYXBwZW5kKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgbmFtZSk7XG4gICAgfVxufSIsImNvbnN0IFRhc2tGaWVsZHMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBUSVRMRTogXCJ0YXNrVGl0bGVcIixcbiAgICBERVNDUklQVElPTjogJ3Rhc2tEZXNjcmlwdGlvbicsXG4gICAgRFVFX0RBVEU6IFwidGFza0R1ZURhdGVcIixcbiAgICBQUklPUklUWTogXCJ0YXNrUHJpb3JpdHlcIixcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBUYXNrRmllbGRzOyIsImltcG9ydCBUYXNrRmllbGRzIGZyb20gXCIuLi91dGlscy90YXNrRmllbGRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tJbnB1dENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb2plY3QsIHRhc2tGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGFza0ZhY3RvcnkgPSB0YXNrRmFjdG9yeTtcbiAgICAgICAgdGhpcy52aWV3ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHNldFZpZXcodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIH1cblxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHByb2Nlc3NUYXNrU3VibWlzc2lvbihlKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZS50YXJnZXQpO1xuICAgICAgICBjb25zdCB0aXRsZSA9IGRhdGEuZ2V0KFRhc2tGaWVsZHMuVElUTEUpO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRhdGEuZ2V0KFRhc2tGaWVsZHMuREVTQ1JJUFRJT04pO1xuICAgICAgICBjb25zdCBwcmlvcml0eSA9IGRhdGEuZ2V0KFRhc2tGaWVsZHMuUFJJT1JJVFkpO1xuICAgICAgICBjb25zdCBkdWVEYXRlID0gZGF0YS5nZXQoVGFza0ZpZWxkcy5EVUVfREFURSk7XG5cbiAgICAgICAgY29uc3QgdGFzayA9IHRoaXMudGFza0ZhY3RvcnkodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSk7XG4gICAgICAgIHRoaXMucHJvamVjdC5hZGQodGFzayk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFza0Zvcm1UZW1wbGF0ZSB7XG4gICAgY3JlYXRlSW5wdXRXcmFwcGVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0YXNrRm9ybS1maWVsZCcpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbChsYWJlbCwgbmFtZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIG5hbWUpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Rhc2tGb3JtLWxhYmVsJyk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gbGFiZWw7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGNyZWF0ZVRleHRJbnB1dChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBuYW1lKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBuYW1lKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB2YWx1ZSk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGFza0Zvcm0tdGV4dCcpO1xuICAgICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxuICAgIGNyZWF0ZVNlbGVjdChuYW1lLCBvcHRpb25FbGVtZW50cykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIG5hbWUpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsIG5hbWUpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZCguLi5vcHRpb25FbGVtZW50cyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGFza0Zvcm0tc2VsZWN0Jyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGNyZWF0ZU9wdGlvbihsYWJlbCwgdmFsdWUsIGlzU2VsZWN0ZWQgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlKTtcbiAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSBsYWJlbDtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtlbGVtZW50LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnJyk7fVxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Rhc2tGb3JtLW9wdGlvbicpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVEYXRlSW5wdXQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2RhdGUnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgbmFtZSk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCduYW1lJywgbmFtZSk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0YXNrRm9ybS1kYXRlJyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50XG4gICAgfVxuXG4gICAgY3JlYXRlVGV4dEZpZWxkKGxhYmVsLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVJbnB1dFdyYXBwZXIoKTtcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gdGhpcy5jcmVhdGVMYWJlbChsYWJlbCwgbmFtZSk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRoaXMuY3JlYXRlVGV4dElucHV0KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmQoXG4gICAgICAgICAgICBsYWJlbEVsZW1lbnQsXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlU2VsZWN0RmllbGQobGFiZWwsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY3JlYXRlSW5wdXRXcmFwcGVyKCk7XG4gICAgICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IHRoaXMuY3JlYXRlTGFiZWwobGFiZWwsIG5hbWUpO1xuICAgICAgICBjb25zdCBvcHRpb25FbGVtZW50cyA9IG9wdGlvbnMubWFwKFxuICAgICAgICAgICAgKG9wdGlvbikgPT4gdGhpcy5jcmVhdGVPcHRpb24ob3B0aW9uLmxhYmVsLCBvcHRpb24udmFsdWUsIG9wdGlvbi5pc1NlbGVjdGVkKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzZWxlY3RFbGVtZW50ID0gdGhpcy5jcmVhdGVTZWxlY3QobmFtZSwgb3B0aW9uRWxlbWVudHMpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZChcbiAgICAgICAgICAgIGxhYmVsRWxlbWVudCxcbiAgICAgICAgICAgIHNlbGVjdEVsZW1lbnRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlRGF0ZUZpZWxkKGxhYmVsLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVJbnB1dFdyYXBwZXIoKTtcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gdGhpcy5jcmVhdGVMYWJlbChsYWJlbCwgbmFtZSk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRoaXMuY3JlYXRlRGF0ZUlucHV0KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmQoXG4gICAgICAgICAgICBsYWJlbEVsZW1lbnQsXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlSW5wdXQoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc2VsZWN0RmllbGQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlbGVjdEZpZWxkKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEub3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSAndGV4dEZpZWxkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVUZXh0RmllbGQoXG4gICAgICAgICAgICAgICAgICAgIGRhdGEubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52YWx1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlICdkYXRlRmllbGQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURhdGVGaWVsZChcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnZhbHVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVGb3JtRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FjdGlvbicsICcnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ21ldGhvZCcsICdQT1NUJyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGFza0Zvcm0nKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlU3VibWl0QnV0dG9uKG5vZGUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0YXNrRm9ybS1idXR0b24nLCAndGFza0Zvcm0tYnV0dG9uLS1zdWJtaXQnKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmQobm9kZSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGNyZWF0ZUNhbmNlbEJ1dHRvbihub2RlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGFza0Zvcm0tYnV0dG9uJywgJ3Rhc2tGb3JtLWJ1dHRvbi0tY2FuY2VsJyk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKG5vZGUpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVGaWVsZExpc3QoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0YXNrRm9ybS1maWVsZExpc3QnKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxufSIsImltcG9ydCBUYXNrRmllbGRzIGZyb20gXCIuLi91dGlscy90YXNrRmllbGRzXCI7XG5pbXBvcnQgUHJpb3JpdHkgZnJvbSBcIi4uL3V0aWxzL3ByaW9yaXR5XCI7XG5pbXBvcnQgVGFza0Zvcm1UZW1wbGF0ZSBmcm9tIFwiLi4vdGVtcGxhdGVzL3Rhc2tGb3JtVGVtcGxhdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFza0lucHV0VmlldyB7XG4gICAgY29uc3RydWN0b3IoY29udHJvbGxlcikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuc2V0Vmlldyh0aGlzKTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IG5ldyBUYXNrRm9ybVRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjcmVhdGVGb3JtRWxlbWVudCgpIHtcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlRm9ybUVsZW1lbnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGb3JtRWxlbWVudCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNvbnRlbnRIb29rKCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGVGaWVsZExpc3QoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudEhvb2s7XG4gICAgfVxuXG4gICAgY3JlYXRlU3VibWl0QnV0dG9uKCkge1xuICAgICAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMudGVtcGxhdGUuY3JlYXRlU3VibWl0QnV0dG9uKFxuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ0NyZWF0ZSBUYXNrJylcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VibWl0QnV0dG9uO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhbmNlbEJ1dHRvbigpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxCdXR0b24gPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUNhbmNlbEJ1dHRvbihcbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdDYW5jZWwnKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcy5jYW5jZWxCdXR0b247XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmQoXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbnRlbnRIb29rKCksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVN1Ym1pdEJ1dHRvbigpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVDYW5jZWxCdXR0b24oKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzZXRJbnRlcmFjdGlvbnMoKSB7ICAgICAgICBcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIucHJvY2Vzc1Rhc2tTdWJtaXNzaW9uKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHt0aGlzLmNvbnRyb2xsZXIucmVtb3ZlKCl9KTtcbiAgICB9XG5cbiAgICBidWlsZCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5zZXRDb250ZW50KCk7XG4gICAgICAgIHRoaXMuc2V0SW50ZXJhY3Rpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udGVudE9iaigpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dEZpZWxkJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBUYXNrRmllbGRzLlRJVExFLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnVGl0bGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dEZpZWxkJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBUYXNrRmllbGRzLkRFU0NSSVBUSU9OLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0RmllbGQnLFxuICAgICAgICAgICAgICAgIG5hbWU6IFRhc2tGaWVsZHMuUFJJT1JJVFksXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQcmlvcml0eScsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICB7bGFiZWw6ICdMb3cnLCB2YWx1ZTogUHJpb3JpdHkuTE9XLCBpc1NlbGVjdGVkOiBmYWxzZX0sXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ01lZGl1bScsIHZhbHVlOiBQcmlvcml0eS5NRURJVU0sICBpc1NlbGVjdGVkOiBmYWxzZX0sXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0hpZ2gnLCB2YWx1ZTogUHJpb3JpdHkuSElHSCwgaXNTZWxlY3RlZDogZmFsc2V9LFxuICAgICAgICAgICAgICAgICAgICB7bGFiZWw6ICdVbnNldCcsIHZhbHVlOiBQcmlvcml0eS5VTlNFVCwgaXNTZWxlY3RlZDogdHJ1ZX1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlRmllbGQnLFxuICAgICAgICAgICAgICAgIG5hbWU6IFRhc2tGaWVsZHMuRFVFX0RBVEUsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdEdWUgRGF0ZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XG5cbiAgICBzZXRDb250ZW50KCkge1xuICAgICAgICBjb25zdCBjb250ZW50T2JqID0gdGhpcy5jcmVhdGVDb250ZW50T2JqKCk7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gY29udGVudE9iai5tYXAoKGRhdGEpID0+IHRoaXMudGVtcGxhdGUuY3JlYXRlSW5wdXQoZGF0YSkpO1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rLnJlcGxhY2VDaGlsZHJlbiguLi5pdGVtcyk7XG4gICAgfVxuICAgIFxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDaGVja2xpc3RWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5zZXRWaWV3KHRoaXMpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2hlY2tsaXN0Jyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGNyZWF0ZUl0ZW1zSG9vaygpIHtcbiAgICAgICAgdGhpcy5pdGVtc0hvb2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICB0aGlzLml0ZW1zSG9vay5jbGFzc0xpc3QuYWRkKCdjaGVja2xpc3QtaXRlbUxpc3QnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXNIb29rO1xuICAgIH1cblxuICAgIGNyZWF0ZUFkZEl0ZW1CdXR0b24oKSB7XG4gICAgICAgIHRoaXMuYWRkSXRlbUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLmFkZEl0ZW1CdXR0b24uY2xhc3NMaXN0LmFkZCgnY2hlY2tsaXN0LWFkZEJ1dHRvbicpO1xuICAgICAgICB0aGlzLmFkZEl0ZW1CdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLmFkZEl0ZW1CdXR0b24uaW5uZXJUZXh0ID0gXCJBZGQgSXRlbSArXCI7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZEl0ZW1CdXR0b247XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmQoXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUl0ZW1zSG9vaygpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVBZGRJdGVtQnV0dG9uKClcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0SW50ZXJhY3Rpb25zKCkge1xuICAgICAgICB0aGlzLmFkZEl0ZW1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7dGhpcy5jb250cm9sbGVyLmFkZEVtcHR5SXRlbSgpfSk7XG4gICAgfVxuXG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci51cGRhdGVWaWV3KCk7XG4gICAgICAgIHRoaXMuc2V0SW50ZXJhY3Rpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmVwbGFjZUl0ZW1zKGVsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMuaXRlbXNIb29rLnJlcGxhY2VDaGlsZHJlbiguLi5lbGVtZW50cyk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrbGlzdENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoZWNrbGlzdCwgZWxlbWVudEZhY3RvcnksIGNoZWNrbGlzdEl0ZW1GYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuY2hlY2tsaXN0ID0gY2hlY2tsaXN0O1xuICAgICAgICB0aGlzLmNoZWNrbGlzdC5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50RmFjdG9yeSA9IGVsZW1lbnRGYWN0b3J5O1xuICAgICAgICB0aGlzLmNoZWNrbGlzdEl0ZW1GYWN0b3J5ID0gY2hlY2tsaXN0SXRlbUZhY3Rvcnk7XG4gICAgICAgIHRoaXMudmlldyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZXRWaWV3KHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB9XG4gICAgXG4gICAgYWRkRW1wdHlJdGVtKCkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5jaGVja2xpc3RJdGVtRmFjdG9yeSgnJyk7XG4gICAgICAgIHRoaXMuY2hlY2tsaXN0LmFkZChpdGVtKTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaWV3KCkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuY2hlY2tsaXN0Lml0ZW1zLm1hcChcbiAgICAgICAgICAgIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEZhY3RvcnkuYnVpbGRDaGVja2xpc3RJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHRoaXMudmlldy5yZXBsYWNlSXRlbXMoZWxlbWVudHMpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrbGlzdEl0ZW1WaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5zZXRWaWV3KHRoaXMpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjaGVja2xpc3RJdGVtJyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGNyZWF0ZURlc2NyaXB0aW9uSW5wdXQoKSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dC5jbGFzc0xpc3QuYWRkKCdjaGVja2xpc3RJdGVtLWRlc2NyaXB0aW9uSW5wdXQnKTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uSW5wdXQ7XG4gICAgfVxuXG4gICAgY3JlYXRlRG9uZVRvZ2dsZSgpIHtcbiAgICAgICAgdGhpcy5kb25lVG9nZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdGhpcy5kb25lVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2NoZWNrbGlzdEl0ZW0tZG9uZVRvZ2dsZScpO1xuICAgICAgICB0aGlzLmRvbmVUb2dnbGUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvbmVUb2dnbGU7XG4gICAgfVxuXG4gICAgY3JlYXRlRGVsZXRlQnV0dG9uKCkge1xuICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjaGVja2xpc3RJdGVtLWRlbGV0ZUJ1dHRvbicpO1xuICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9ICdYJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlQnV0dG9uO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY3JlYXRlQ29udGFpbmVyKCk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEb25lVG9nZ2xlKCksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURlc2NyaXB0aW9uSW5wdXQoKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVsZXRlQnV0dG9uKClcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICB9XG5cbiAgICBzZXRJbnRlcmFjdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge3RoaXMuY29udHJvbGxlci5jaGFuZ2VEZXNjcmlwdGlvbihlLnRhcmdldC52YWx1ZSl9KTtcbiAgICAgICAgdGhpcy5kb25lVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7dGhpcy5jb250cm9sbGVyLnRvZ2dsZSgpfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY29udHJvbGxlci5kZWxldGUoKX0pO1xuICAgIH1cbiAgICBcbiAgICBidWlsZCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnVwZGF0ZVZpZXcoKTtcbiAgICAgICAgdGhpcy5zZXRJbnRlcmFjdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG5cbiAgICBzZXREZXNjcmlwdGlvbih0ZXh0KSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgYCR7dGV4dH1gKTtcbiAgICB9XG5cbiAgICBzZXRDaGVja2JveFN0YXRlKGlzT24pIHtcbiAgICAgICAgaWYgKGlzT24pIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZVRvZ2dsZS5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRvbmVUb2dnbGUucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJywgJycpO1xuICAgICAgICB9XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrbGlzdEl0ZW1Db250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMudmlldyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZXRWaWV3KHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB9XG5cbiAgICB0b2dnbGUoKSB7XG4gICAgICAgIHRoaXMuaXRlbS50b2dnbGVEb25lKCk7XG4gICAgfVxuXG4gICAgY2hhbmdlRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5pdGVtLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgdXBkYXRlVmlldygpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldERlc2NyaXB0aW9uKHRoaXMuaXRlbS5kZXNjcmlwdGlvbik7XG4gICAgICAgIHRoaXMudmlldy5zZXRDaGVja2JveFN0YXRlKHRoaXMuaXRlbS5pc0RvbmUpO1xuICAgIH1cblxuICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5pdGVtLnVubGluaygpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0Q29sbGVjdGlvblRlbXBsYXRlIHtcbiAgICBzdGF0aWMgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncHJvamVjdENvbGxlY3Rpb24nKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUFkZEJ1dHRvbigpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Q29sbGVjdGlvbi1hZGRCdXR0b24nKTtcbiAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSAnKyBBZGQgUHJvamVjdCc7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVDb250ZW50SG9vaygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RDb2xsZWN0aW9uLWNvbnRlbnRIb29rJyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBQcm9qZWN0Q29sbGVjdGlvblRlbXBsYXRlLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICBjb25zdCBhZGRCdXR0b24gPSBQcm9qZWN0Q29sbGVjdGlvblRlbXBsYXRlLmNyZWF0ZUFkZEJ1dHRvbigpO1xuICAgICAgICBjb25zdCBjb250ZW50SG9vayA9IFByb2plY3RDb2xsZWN0aW9uVGVtcGxhdGUuY3JlYXRlQ29udGVudEhvb2soKTtcbiAgICAgICAgXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKFxuICAgICAgICAgICAgYWRkQnV0dG9uLFxuICAgICAgICAgICAgY29udGVudEhvb2tcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGFkZEJ1dHRvbixcbiAgICAgICAgICAgIGNvbnRlbnRIb29rXG4gICAgICAgIH07XG4gICAgfVxufSIsImltcG9ydCBQcm9qZWN0Q29sbGVjdGlvblRlbXBsYXRlIGZyb20gXCIuLi90ZW1wbGF0ZXMvcHJvamVjdENvbGxlY3Rpb25UZW1wbGF0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0Q29sbGVjdGlvblZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnNldFZpZXcodGhpcyk7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBQcm9qZWN0Q29sbGVjdGlvblRlbXBsYXRlO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RydWN0dXJlID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gc3RydWN0dXJlLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMuYWRkQnV0dG9uID0gc3RydWN0dXJlLmFkZEJ1dHRvbjtcbiAgICAgICAgdGhpcy5jb250ZW50SG9vayA9IHN0cnVjdHVyZS5jb250ZW50SG9vaztcbiAgICB9XG5cbiAgICBzZXRJbnRlcmFjdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmNyZWF0ZUVtcHR5UHJvamVjdCgpKTtcbiAgICB9XG5cbiAgICBidWlsZCgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnVwZGF0ZVZpZXcoKTtcbiAgICAgICAgdGhpcy5zZXRJbnRlcmFjdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG5cbiAgICByZXBsYWNlSXRlbXMoZWxlbWVudHMpIHtcbiAgICAgICAgdGhpcy5jb250ZW50SG9vay5yZXBsYWNlQ2hpbGRyZW4oLi4uZWxlbWVudHMpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0Q29sbGVjdGlvbkNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb2plY3RDb2xsZWN0aW9uLCBjb250ZW50SG9vaywgZWxlbWVudEZhY3RvcnksIHByb2plY3RGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMucHJvamVjdENvbGxlY3Rpb24gPSBwcm9qZWN0Q29sbGVjdGlvbjtcbiAgICAgICAgdGhpcy5wcm9qZWN0Q29sbGVjdGlvbi5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5jb250ZW50SG9vayA9IGNvbnRlbnRIb29rO1xuICAgICAgICB0aGlzLmVsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gICAgICAgIHRoaXMucHJvamVjdEZhY3RvcnkgPSBwcm9qZWN0RmFjdG9yeTtcblxuICAgICAgICB0aGlzLnZpZXcgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc2V0Vmlldyh2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlldygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLnByb2plY3RDb2xsZWN0aW9uLml0ZW1zLm1hcChcbiAgICAgICAgICAgIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEZhY3RvcnkuYnVpbGRDb2xsZWN0aW9uQnV0dG9uKGl0ZW0sIHRoaXMuY29udGVudEhvb2spO1xuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHRoaXMudmlldy5yZXBsYWNlSXRlbXMoZWxlbWVudHMpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlRW1wdHlQcm9qZWN0KCkge1xuICAgICAgICBjb25zdCBwcm9qZWN0ID0gdGhpcy5wcm9qZWN0RmFjdG9yeSgnJyk7XG4gICAgICAgIHRoaXMucHJvamVjdENvbGxlY3Rpb24uYWRkKHByb2plY3QpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xsZWN0aW9uQnV0dG9uVGVtcGxhdGUge1xuICAgIHN0YXRpYyBjcmVhdGVDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb2xsZWN0aW9uQnV0dG9uJyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBcbiAgICBzdGF0aWMgY3JlYXRlQnV0dG9uKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvbGxlY3Rpb25CdXR0b24tYnV0dG9uJyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBcbiAgICBzdGF0aWMgY3JlYXRlRGVsZXRlQnV0dG9uKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvbGxlY3Rpb25CdXR0b24tZGVsZXRlQnV0dG9uJyk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gJ1gnO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gQ29sbGVjdGlvbkJ1dHRvblRlbXBsYXRlLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICBjb25zdCBidXR0b24gPSBDb2xsZWN0aW9uQnV0dG9uVGVtcGxhdGUuY3JlYXRlQnV0dG9uKClcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gQ29sbGVjdGlvbkJ1dHRvblRlbXBsYXRlLmNyZWF0ZURlbGV0ZUJ1dHRvbigpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZChcbiAgICAgICAgICAgIGJ1dHRvbixcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvblxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGJ1dHRvbixcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvblxuICAgICAgICB9O1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IENvbGxlY3Rpb25CdXR0b25UZW1wbGF0ZSBmcm9tIFwiLi4vdGVtcGxhdGVzL2NvbGxlY3Rpb25CdXR0b25UZW1wbGF0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xsZWN0aW9uQnV0dG9uVmlldyB7XG4gICAgY29uc3RydWN0b3IoY29udHJvbGxlcikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuc2V0Vmlldyh0aGlzKTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IENvbGxlY3Rpb25CdXR0b25UZW1wbGF0ZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHN0cnVjdHVyZSA9IENvbGxlY3Rpb25CdXR0b25UZW1wbGF0ZS5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gc3RydWN0dXJlLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMuYnV0dG9uID0gc3RydWN0dXJlLmJ1dHRvbjtcbiAgICAgICAgdGhpcy5kZWxldGVCdXR0b24gPSBzdHJ1Y3R1cmUuZGVsZXRlQnV0dG9uO1xuICAgIH1cblxuICAgIHNldEludGVyYWN0aW9ucygpIHtcbiAgICAgICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7dGhpcy5jb250cm9sbGVyLmRpc3BsYXkoKX0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLmNvbnRyb2xsZXIuZGVsZXRlKCl9KTtcbiAgICB9XG5cbiAgICBidWlsZCgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnVwZGF0ZVZpZXcoKTtcbiAgICAgICAgdGhpcy5zZXRJbnRlcmFjdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VOYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5idXR0b24uaW5uZXJUZXh0ID0gbmFtZTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGVjdGlvbkJ1dHRvbkNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb2plY3QsIGNvbnRlbnRIb29rLCBidWlsZFByb2plY3QpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy5wcm9qZWN0LmFkZE9ic2VydmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rID0gY29udGVudEhvb2s7XG4gICAgICAgIHRoaXMuYnVpbGRQcm9qZWN0ID0gYnVpbGRQcm9qZWN0O1xuXG4gICAgICAgIHRoaXMuZGlzcGxheWVkRWxlbWVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLnZpZXcgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc2V0Vmlldyh2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlldygpIHtcbiAgICAgICAgdGhpcy52aWV3LmNoYW5nZU5hbWUodGhpcy5wcm9qZWN0Lm5hbWUpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfVxuXG4gICAgZmluYWxpemUoKSB7XG4gICAgICAgIHRoaXMucHJvamVjdC5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMudmlldy5yZW1vdmUoKTtcbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheWVkRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZGlzcGxheWVkRWxlbWVudC5kZXJlZigpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVsZXRlKCkge1xuICAgICAgICB0aGlzLnByb2plY3QudW5saW5rKCk7XG4gICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5KCkge1xuICAgICAgICB0aGlzLmRpc3BsYXllZEVsZW1lbnQgPSBuZXcgV2Vha1JlZih0aGlzLmJ1aWxkUHJvamVjdCh0aGlzLnByb2plY3QpKTtcbiAgICAgICAgdGhpcy5jb250ZW50SG9vay5yZXBsYWNlQ2hpbGRyZW4odGhpcy5kaXNwbGF5ZWRFbGVtZW50LmRlcmVmKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgQ29sbGVjdGlvbkJ1dHRvblRlbXBsYXRlIGZyb20gXCIuLi90ZW1wbGF0ZXMvY29sbGVjdGlvbkJ1dHRvblRlbXBsYXRlXCI7XG5pbXBvcnQgUHJvamVjdENvbGxlY3Rpb25UZW1wbGF0ZSBmcm9tIFwiLi4vdGVtcGxhdGVzL3Byb2plY3RDb2xsZWN0aW9uVGVtcGxhdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9kb1ZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIHByb2plY3RDb2xsZWN0aW9uRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuc2V0Vmlldyh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0Q29sbGVjdGlvbkVsZW1lbnQgPSBwcm9qZWN0Q29sbGVjdGlvbkVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndG9kb0NvbGxlY3Rpb24nKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQnV0dG9uKG5hbWUpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gQ29sbGVjdGlvbkJ1dHRvblRlbXBsYXRlLmNyZWF0ZSgpO1xuICAgICAgICBvYmouYnV0dG9uLmlubmVyVGV4dCA9IG5hbWU7XG4gICAgICAgIG9iai5kZWxldGVCdXR0b24ucmVtb3ZlKCk7XG4gICAgICAgIHJldHVybiBvYmouZWxlbWVudFxuICAgIH1cblxuICAgIGNyZWF0ZURlZmF1bHRCdXR0b25zKCkge1xuICAgICAgICB0aGlzLmluYm94QnV0dG9uID0gdGhpcy5jcmVhdGVCdXR0b24oJ0luYm94Jyk7XG4gICAgICAgIHRoaXMudG9kYXlCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbignVG9kYXknKTtcbiAgICAgICAgdGhpcy50aGlzV2Vla0J1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKCdUaGlzIFdlZWsnKTtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmluYm94QnV0dG9uLCB0aGlzLnRvZGF5QnV0dG9uLCB0aGlzLnRoaXNXZWVrQnV0dG9uXTtcbiAgICB9XG5cbiAgICBjcmVhdGVEZWZhdWx0Q29sbGVjdGlvbigpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gUHJvamVjdENvbGxlY3Rpb25UZW1wbGF0ZS5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0Q29sbGVjdGlvbiA9IG9iai5lbGVtZW50O1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rID0gb2JqLmNvbnRlbnRIb29rO1xuICAgICAgICBvYmouYWRkQnV0dG9uLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICBjb25zdCBkZWZhdWx0Q29sbGVjdGlvbiA9IHRoaXMuY3JlYXRlRGVmYXVsdENvbGxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5jb250ZW50SG9vay5hcHBlbmQoLi4udGhpcy5jcmVhdGVEZWZhdWx0QnV0dG9ucygpKVxuICAgICAgICBlbGVtZW50LmFwcGVuZChcbiAgICAgICAgICAgIGRlZmF1bHRDb2xsZWN0aW9uLFxuICAgICAgICAgICAgdGhpcy5wcm9qZWN0Q29sbGVjdGlvbkVsZW1lbnRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0SW50ZXJhY3Rpb25zKCkge1xuICAgICAgICB0aGlzLmluYm94QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY29udHJvbGxlci5kaXNwbGF5SW5ib3goKX0pO1xuICAgICAgICB0aGlzLnRvZGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY29udHJvbGxlci5kaXNwbGF5RHVlVG9kYXkoKX0pO1xuICAgICAgICB0aGlzLnRoaXNXZWVrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY29udHJvbGxlci5kaXNwbGF5RHVlVGhpc1dlZWsoKX0pO1xuICAgIH1cblxuICAgIGJ1aWxkKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLnNldEludGVyYWN0aW9ucygpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cblxuICAgIHJlcGxhY2VJdGVtcyhlbGVtZW50cykge1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rLnJlcGxhY2VDaGlsZHJlbiguLi5lbGVtZW50cyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFByb2plY3RUZW1wbGF0ZSBmcm9tIFwiLi4vdGVtcGxhdGVzL3Byb2plY3RUZW1wbGF0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2RvQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IodG9kbywgY29udGVudEhvb2ssIGVsZW1lbnRGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMudG9kbyA9IHRvZG87XG4gICAgICAgIHRoaXMuY29udGVudEhvb2sgPSBjb250ZW50SG9vaztcbiAgICAgICAgdGhpcy5lbGVtZW50RmFjdG9yeSA9IGVsZW1lbnRGYWN0b3J5O1xuXG4gICAgICAgIHRoaXMudmlldyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZXRWaWV3KHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB9XG5cbiAgICBkaXNwbGF5SW5ib3goKSB7XG4gICAgICAgIHRoaXMuY29udGVudEhvb2sucmVwbGFjZUNoaWxkcmVuKHRoaXMuZWxlbWVudEZhY3RvcnkuYnVpbGROb0VkaXRQcm9qZWN0KHRoaXMudG9kby5pbmJveCkpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0YXRpY1Byb2plY3RFbGVtZW50KG5hbWUsIHRhc2tMaXN0KSB7XG4gICAgICAgIGNvbnN0IHN0cnVjdHVyZSA9IFByb2plY3RUZW1wbGF0ZS5jcmVhdGUoKTtcblxuICAgICAgICBzdHJ1Y3R1cmUubmFtZUlucHV0LnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAnJyk7XG4gICAgICAgIHN0cnVjdHVyZS5uYW1lSW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5hbWUpXG4gICAgICAgIHN0cnVjdHVyZS5hZGRUYXNrQnV0dG9uLnJlbW92ZSgpO1xuICAgICAgICBzdHJ1Y3R1cmUuZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuXG4gICAgICAgIHN0cnVjdHVyZS50YXNrc0hvb2sucmVwbGFjZUNoaWxkcmVuKC4uLnRhc2tMaXN0KTtcblxuICAgICAgICByZXR1cm4gc3RydWN0dXJlLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZGlzcGxheUR1ZVRvZGF5KCkge1xuICAgICAgICBjb25zdCBkdWVUb2RheSA9IHRoaXMudG9kby5nZXRUYXNrc0R1ZVRvZGF5KCk7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50cyA9IGR1ZVRvZGF5Lm1hcCgodGFzaykgPT4ge3JldHVybiB0aGlzLmVsZW1lbnRGYWN0b3J5LmJ1aWxkVGFzayh0YXNrKX0pO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jcmVhdGVTdGF0aWNQcm9qZWN0RWxlbWVudCgnVG9kYXknLCB0YXNrRWxlbWVudHMpO1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rLnJlcGxhY2VDaGlsZHJlbihlbGVtZW50KTtcbiAgICB9XG5cbiAgICBkaXNwbGF5RHVlVGhpc1dlZWsoKSB7XG4gICAgICAgIGNvbnN0IGR1ZVRoaXNXZWVrID0gdGhpcy50b2RvLmdldFRhc2tzRHVlVGhpc1dlZWsoKTtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnRzID0gZHVlVGhpc1dlZWsubWFwKCh0YXNrKSA9PiB7cmV0dXJuIHRoaXMuZWxlbWVudEZhY3RvcnkuYnVpbGRUYXNrKHRhc2spfSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNyZWF0ZVN0YXRpY1Byb2plY3RFbGVtZW50KCdUaGlzIFdlZWsnLCB0YXNrRWxlbWVudHMpO1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rLnJlcGxhY2VDaGlsZHJlbihlbGVtZW50KTtcbiAgICB9XG59IiwiaW1wb3J0IFByb2plY3RUZW1wbGF0ZSBmcm9tIFwiLi4vdGVtcGxhdGVzL3Byb2plY3RUZW1wbGF0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb0VkaXRQcm9qZWN0VmlldyB7XG4gICAgY29uc3RydWN0b3IoY29udHJvbGxlcikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuc2V0Vmlldyh0aGlzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IFByb2plY3RUZW1wbGF0ZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHN0cnVjdHVyZSA9IFByb2plY3RUZW1wbGF0ZS5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gc3RydWN0dXJlLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZUlucHV0ID0gc3RydWN0dXJlLm5hbWVJbnB1dDtcblxuICAgICAgICB0aGlzLm5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICBzdHJ1Y3R1cmUuZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuXG4gICAgICAgIHRoaXMudGFza3NIb29rID0gc3RydWN0dXJlLnRhc2tzSG9vaztcbiAgICAgICAgdGhpcy5hZGRUYXNrQnV0dG9uID0gc3RydWN0dXJlLmFkZFRhc2tCdXR0b247XG4gICAgfVxuXG4gICAgc2V0SW50ZXJhY3Rpb25zKCkge1xuICAgICAgICB0aGlzLmFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7dGhpcy5jb250cm9sbGVyLmFkZFRhc2tJbnB1dCgpfSk7XG4gICAgfVxuXG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci51cGRhdGVWaWV3KCk7XG4gICAgICAgIHRoaXMuc2V0SW50ZXJhY3Rpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmVwbGFjZUl0ZW1zKGVsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMudGFza3NIb29rLnJlcGxhY2VDaGlsZHJlbiguLi5lbGVtZW50cyk7XG4gICAgfVxuXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMudGFza3NIb29rLmFwcGVuZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lSW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5hbWUpO1xuICAgIH1cbn0iLCJpbXBvcnQgVGFza0NvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3Rhc2tDb250cm9sbGVyXCI7XG5pbXBvcnQgVGFza1ZpZXcgZnJvbSBcIi4uL3ZpZXdzL3Rhc2tWaWV3XCI7XG5pbXBvcnQgUHJvamVjdENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3Byb2plY3RDb250cm9sbGVyXCI7XG5pbXBvcnQgUHJvamVjdFZpZXcgZnJvbSBcIi4uL3ZpZXdzL3Byb2plY3RWaWV3XCI7XG5pbXBvcnQgVGFza0lucHV0Q29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvdGFza0lucHV0Q29udHJvbGxlclwiO1xuaW1wb3J0IFRhc2tJbnB1dFZpZXcgZnJvbSBcIi4uL3ZpZXdzL3Rhc2tJbnB1dFZpZXdcIjtcbmltcG9ydCBDaGVja2xpc3RWaWV3IGZyb20gXCIuLi92aWV3cy9jaGVja2xpc3RWaWV3XCI7XG5pbXBvcnQgQ2hlY2tsaXN0Q29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvY2hlY2tsaXN0Q29udHJvbGxlclwiO1xuaW1wb3J0IENoZWNrbGlzdEl0ZW1WaWV3IGZyb20gXCIuLi92aWV3cy9jaGVja2xpc3RJdGVtVmlld1wiO1xuaW1wb3J0IENoZWNrbGlzdEl0ZW1Db250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9jaGVja2xpc3RJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IFByb2plY3RDb2xsZWN0aW9uVmlldyBmcm9tIFwiLi4vdmlld3MvcHJvamVjdENvbGxlY3Rpb25WaWV3XCI7XG5pbXBvcnQgUHJvamVjdENvbGxlY3Rpb25Db250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9wcm9qZWN0Q29sbGVjdGlvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCBDb2xsZWN0aW9uQnV0dG9uVmlldyBmcm9tIFwiLi4vdmlld3MvY29sbGVjdGlvbkJ1dHRvblZpZXdcIjtcbmltcG9ydCBDb2xsZWN0aW9uQnV0dG9uQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvY29sbGVjdGlvbkJ1dHRvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCBUb2RvVmlldyBmcm9tIFwiLi4vdmlld3MvdG9kb1ZpZXdcIjtcbmltcG9ydCBUb2RvQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvdG9kb0NvbnRyb2xsZXJcIjtcbmltcG9ydCBOb0VkaXRQcm9qZWN0VmlldyBmcm9tIFwiLi4vdmlld3Mvbm9FZGl0UHJvamVjdFZpZXdcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxlbWVudEZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKG1vZGVsRmFjdG9yeSwgcG9wVXBMYXllcikge1xuICAgICAgICB0aGlzLm1vZGVsRmFjdG9yeSA9IG1vZGVsRmFjdG9yeTtcbiAgICAgICAgdGhpcy5wb3BVcExheWVyID0gcG9wVXBMYXllcjtcbiAgICB9XG5cbiAgICBidWlsZENoZWNrbGlzdChjaGVja2xpc3QpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBDaGVja2xpc3RWaWV3KFxuICAgICAgICAgICAgbmV3IENoZWNrbGlzdENvbnRyb2xsZXIoXG4gICAgICAgICAgICAgICAgY2hlY2tsaXN0LFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgKC4uLmFyZ3MpID0+IHtyZXR1cm4gdGhpcy5tb2RlbEZhY3RvcnkuY3JlYXRlQ2hlY2tsaXN0SXRlbSguLi5hcmdzKTt9XG4gICAgICAgICAgICApXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdmlldy5idWlsZCgpO1xuXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGJ1aWxkVGFzayh0YXNrKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVsZW1lbnQgPSB0aGlzLmJ1aWxkQ2hlY2tsaXN0KHRhc2suY2hlY2tsaXN0KVxuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IFRhc2tWaWV3KG5ldyBUYXNrQ29udHJvbGxlcih0YXNrLCB0aGlzLCB0aGlzLnBvcFVwTGF5ZXIpLCBjaGVja2xpc3RFbGVtZW50KTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHZpZXcuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgYnVpbGRQcm9qZWN0KHByb2plY3QpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdFZpZXcgPSBuZXcgUHJvamVjdFZpZXcobmV3IFByb2plY3RDb250cm9sbGVyKHByb2plY3QsIHRoaXMsIHRoaXMucG9wVXBMYXllcikpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcHJvamVjdFZpZXcuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgYnVpbGROb0VkaXRQcm9qZWN0KHByb2plY3QpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdFZpZXcgPSBuZXcgTm9FZGl0UHJvamVjdFZpZXcobmV3IFByb2plY3RDb250cm9sbGVyKHByb2plY3QsIHRoaXMsIHRoaXMucG9wVXBMYXllcikpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcHJvamVjdFZpZXcuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIFxuICAgIGJ1aWxkVGFza0lucHV0KHByb2plY3QpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBUYXNrSW5wdXRWaWV3KG5ldyBUYXNrSW5wdXRDb250cm9sbGVyKHByb2plY3QsICguLi5hcmdzKSA9PiB7cmV0dXJuIHRoaXMubW9kZWxGYWN0b3J5LmNyZWF0ZVRhc2soLi4uYXJncyk7fSkpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdmlldy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBidWlsZENoZWNrbGlzdEl0ZW0oaXRlbSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IENoZWNrbGlzdEl0ZW1WaWV3KG5ldyBDaGVja2xpc3RJdGVtQ29udHJvbGxlcihpdGVtKSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2aWV3LmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGJ1aWxkUHJvamVjdENvbGxlY3Rpb24ocHJvamVjdENvbGxlY3Rpb24sIGNvbnRlbnRIb29rKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgUHJvamVjdENvbGxlY3Rpb25WaWV3KG5ldyBQcm9qZWN0Q29sbGVjdGlvbkNvbnRyb2xsZXIoXG4gICAgICAgICAgICBwcm9qZWN0Q29sbGVjdGlvbixcbiAgICAgICAgICAgIGNvbnRlbnRIb29rLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICguLi5hcmdzKSA9PiB7cmV0dXJuIHRoaXMubW9kZWxGYWN0b3J5LmNyZWF0ZVByb2plY3QoLi4uYXJncyk7fVxuICAgICAgICApKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHZpZXcuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgYnVpbGRDb2xsZWN0aW9uQnV0dG9uKHByb2plY3QsIGNvbnRlbnRIb29rKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgQ29sbGVjdGlvbkJ1dHRvblZpZXcobmV3IENvbGxlY3Rpb25CdXR0b25Db250cm9sbGVyKFxuICAgICAgICAgICAgcHJvamVjdCxcbiAgICAgICAgICAgIGNvbnRlbnRIb29rLFxuICAgICAgICAgICAgKHByb2plY3QpID0+IHtyZXR1cm4gdGhpcy5idWlsZFByb2plY3QocHJvamVjdCl9XG4gICAgICAgICkpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdmlldy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBidWlsZFRvZG8odG9kbywgY29udGVudEhvb2spIHtcbiAgICAgICAgY29uc3QgcHJvamVjdENvbGxlY3Rpb25FbGVtZW50ID0gdGhpcy5idWlsZFByb2plY3RDb2xsZWN0aW9uKHRvZG8ucHJvamVjdENvbGxlY3Rpb24sIGNvbnRlbnRIb29rKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBUb2RvVmlldyhuZXcgVG9kb0NvbnRyb2xsZXIoXG4gICAgICAgICAgICB0b2RvLFxuICAgICAgICAgICAgY29udGVudEhvb2ssXG4gICAgICAgICAgICB0aGlzXG4gICAgICAgICksXG4gICAgICAgIHByb2plY3RDb2xsZWN0aW9uRWxlbWVudFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdmlldy5idWlsZCgpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgIH1cblxuICAgIGFkZE9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gobmV3IFdlYWtSZWYob2JzZXJ2ZXIpKTtcbiAgICB9XG5cbiAgICByZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub2JzZXJ2ZXJzLmZpbmRJbmRleCgocmVmKSA9PiByZWYuZGVyZWYoKSA9PT0gb2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cblxuICAgIHVwZGF0ZU9ic2VydmVycygpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaCgocmVmLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSByZWYuZGVyZWYoKTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxufSIsImltcG9ydCBQcmlvcml0eSBmcm9tIFwiLi4vdXRpbHMvcHJpb3JpdHlcIjtcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4uL3V0aWxzL2V2ZW50TWFuYWdlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5ID0gUHJpb3JpdHkuVU5TRVQsIGNoZWNrbGlzdCkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLmNoZWNrbGlzdCA9IGNoZWNrbGlzdDtcbiAgICAgICAgdGhpcy5pc0RvbmUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnByb2plY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICAgIH1cblxuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgZHVlRGF0ZTogdGhpcy5kdWVEYXRlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHRoaXMucHJpb3JpdHksXG4gICAgICAgICAgICBpc0RvbmU6IHRoaXMuaXNEb25lLFxuICAgICAgICAgICAgY2hlY2tsaXN0OiB0aGlzLmNoZWNrbGlzdC5nZXREYXRhKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB1bmxpbmsoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb2plY3QpIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdC5yZW1vdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaW5rKHByb2plY3QpIHtcbiAgICAgICAgdGhpcy51bmxpbmsoKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICB9XG5cbiAgICBzZXREb25lKCkge1xuICAgICAgICB0aGlzLmlzRG9uZSA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hlY2tsaXN0LnNldERvbmUoKTtcbiAgICB9XG5cbiAgICBzZXRVbmRvbmUoKSB7XG4gICAgICAgIHRoaXMuaXNEb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2hlY2tsaXN0LnNldFVuZG9uZSgpO1xuICAgIH1cblxuICAgIHRvZ2dsZURvbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRG9uZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRVbmRvbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RG9uZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnJlbW92ZU9ic2VydmVyKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVPYnNlcnZlcnMoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnVwZGF0ZU9ic2VydmVycygpO1xuICAgIH1cblxuICAgIHNldFN0YXRlKG9iamVjdCkge1xuICAgICAgICBPYmplY3QuZW50cmllcyhvYmplY3QpLmZvckVhY2goXG4gICAgICAgICAgICAoW2tleSwgdmFsdWVdID0gZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy51cGRhdGVPYnNlcnZlcnMoKTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIHZhbHVlIGEgZGF0ZT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZS4gVGhlIGZ1bmN0aW9uIHdvcmtzIGZvciBkYXRlcyB0cmFuc2ZlcnJlZCBhY3Jvc3MgaWZyYW1lcy5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gdGhlIHZhbHVlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBkYXRlXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnRzIHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciBhIHZhbGlkIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc0RhdGUobmV3IERhdGUoKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgYW4gaW52YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKG5ldyBEYXRlKE5hTikpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHNvbWUgdmFsdWU6XG4gKiBjb25zdCByZXN1bHQgPSBpc0RhdGUoJzIwMTQtMDItMzEnKVxuICogLy89PiBmYWxzZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgYW4gb2JqZWN0OlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKHt9KVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgfHwgX3R5cGVvZih2YWx1ZSkgPT09ICdvYmplY3QnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSB0b0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIERhdGUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0cyBjbG9uZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBudW1iZXIsIGl0IGlzIHRyZWF0ZWQgYXMgYSB0aW1lc3RhbXAuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIG5vbmUgb2YgdGhlIGFib3ZlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogKipOb3RlKio6ICphbGwqIERhdGUgYXJndW1lbnRzIHBhc3NlZCB0byBhbnkgKmRhdGUtZm5zKiBmdW5jdGlvbiBpcyBwcm9jZXNzZWQgYnkgYHRvRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gYXJndW1lbnQgLSB0aGUgdmFsdWUgdG8gY29udmVydFxuICogQHJldHVybnMge0RhdGV9IHRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ2xvbmUgdGhlIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUobmV3IERhdGUoMjAxNCwgMSwgMTEsIDExLCAzMCwgMzApKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCB0aGUgdGltZXN0YW1wIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUoMTM5MjA5ODQzMDAwMClcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7XG5cbiAgLy8gQ2xvbmUgdGhlIGRhdGVcbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCBfdHlwZW9mKGFyZ3VtZW50KSA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI3N0cmluZy1hcmd1bWVudHNcIik7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn0iLCJpbXBvcnQgaXNEYXRlIGZyb20gXCIuLi9pc0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgaXNWYWxpZFxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSB2YWxpZD9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgZmFsc2UgaWYgYXJndW1lbnQgaXMgSW52YWxpZCBEYXRlIGFuZCB0cnVlIG90aGVyd2lzZS5cbiAqIEFyZ3VtZW50IGlzIGNvbnZlcnRlZCB0byBEYXRlIHVzaW5nIGB0b0RhdGVgLiBTZWUgW3RvRGF0ZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy90b0RhdGV9XG4gKiBJbnZhbGlkIERhdGUgaXMgYSBEYXRlLCB3aG9zZSB0aW1lIHZhbHVlIGlzIE5hTi5cbiAqXG4gKiBUaW1lIHZhbHVlIG9mIERhdGU6IGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuOS4xLjFcbiAqXG4gKiBAcGFyYW0geyp9IGRhdGUgLSB0aGUgZGF0ZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlIGlzIHZhbGlkXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSB2YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNWYWxpZChuZXcgRGF0ZSgyMDE0LCAxLCAzMSkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSB2YWx1ZSwgY29udmVydGFibGUgaW50byBhIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc1ZhbGlkKDEzOTM4MDQ4MDAwMDApXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSBpbnZhbGlkIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc1ZhbGlkKG5ldyBEYXRlKCcnKSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNWYWxpZChkaXJ0eURhdGUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIGlmICghaXNEYXRlKGRpcnR5RGF0ZSkgJiYgdHlwZW9mIGRpcnR5RGF0ZSAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgcmV0dXJuICFpc05hTihOdW1iZXIoZGF0ZSkpO1xufSIsImltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIG9yaWdpbmFsIGRhdGVcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgYSBkYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBkYXkgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mRGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGRhdGU7XG59IiwiaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSBcIi4uL3N0YXJ0T2ZEYXkvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzU2FtZURheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpP1xuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciAwNjowMDowMCBhbmQgNCBTZXB0ZW1iZXIgMTg6MDA6MDAgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQsIDYsIDApLCBuZXcgRGF0ZSgyMDE0LCA4LCA0LCAxOCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIGFuZCA0IE9jdG9iZXIgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQpLCBuZXcgRGF0ZSgyMDE0LCA5LCA0KSlcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyLCAyMDE0IGFuZCA0IFNlcHRlbWJlciwgMjAxNSBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCksIG5ldyBEYXRlKDIwMTUsIDgsIDQpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVEYXkoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGlydHlEYXRlUmlnaHQpO1xuICByZXR1cm4gZGF0ZUxlZnRTdGFydE9mRGF5LmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZkRheS5nZXRUaW1lKCk7XG59IiwiaW1wb3J0IGlzU2FtZURheSBmcm9tIFwiLi4vaXNTYW1lRGF5L2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc1RvZGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICpcbiAqID4g4pqg77iPIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBub3QgcHJlc2VudCBpbiB0aGUgRlAgc3VibW9kdWxlIGFzXG4gKiA+IGl0IHVzZXMgYERhdGUubm93KClgIGludGVybmFsbHkgaGVuY2UgaW1wdXJlIGFuZCBjYW4ndCBiZSBzYWZlbHkgY3VycmllZC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGRhdGUgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0aGUgZGF0ZSBpcyB0b2RheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDYgT2N0b2JlciAyMDE0LCBpcyA2IE9jdG9iZXIgMTQ6MDA6MDAgdG9kYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1RvZGF5KG5ldyBEYXRlKDIwMTQsIDksIDYsIDE0LCAwKSlcbiAqIC8vPT4gdHJ1ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RvZGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGlzU2FtZURheShkaXJ0eURhdGUsIERhdGUubm93KCkpO1xufSIsImltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgZ2V0RGF5XG4gKiBAY2F0ZWdvcnkgV2Vla2RheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIGRheSBvZiB0aGUgd2VlayBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgZGF5IG9mIHRoZSB3ZWVrIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZ2l2ZW4gZGF0ZVxuICogQHJldHVybnMgezB8MXwyfDN8NHw1fDZ9IHRoZSBkYXkgb2Ygd2VlaywgMCByZXByZXNlbnRzIFN1bmRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIGRheSBvZiB0aGUgd2VlayBpcyAyOSBGZWJydWFyeSAyMDEyP1xuICogY29uc3QgcmVzdWx0ID0gZ2V0RGF5KG5ldyBEYXRlKDIwMTIsIDEsIDI5KSlcbiAqIC8vPT4gM1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXREYXkoZGlydHlEYXRlKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICB2YXIgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgcmV0dXJuIGRheTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0ludGVnZXIoZGlydHlOdW1iZXIpIHtcbiAgaWYgKGRpcnR5TnVtYmVyID09PSBudWxsIHx8IGRpcnR5TnVtYmVyID09PSB0cnVlIHx8IGRpcnR5TnVtYmVyID09PSBmYWxzZSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgdmFyIG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7XG4gIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuICByZXR1cm4gbnVtYmVyIDwgMCA/IE1hdGguY2VpbChudW1iZXIpIDogTWF0aC5mbG9vcihudW1iZXIpO1xufSIsInZhciBkZWZhdWx0T3B0aW9ucyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKCkge1xuICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdE9wdGlvbnMobmV3T3B0aW9ucykge1xuICBkZWZhdWx0T3B0aW9ucyA9IG5ld09wdGlvbnM7XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgdG9JbnRlZ2VyIGZyb20gXCIuLi9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4uL19saWIvZGVmYXVsdE9wdGlvbnMvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZldlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHBhcmFtIHswfDF8MnwzfDR8NXw2fSBbb3B0aW9ucy53ZWVrU3RhcnRzT249MF0gLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayAoMCAtIFN1bmRheSlcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgYSB3ZWVrXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFN1biBBdWcgMzEgMjAxNCAwMDowMDowMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0aGUgd2VlayBzdGFydHMgb24gTW9uZGF5LCB0aGUgc3RhcnQgb2YgdGhlIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRPZldlZWsoZGlydHlEYXRlLCBvcHRpb25zKSB7XG4gIHZhciBfcmVmLCBfcmVmMiwgX3JlZjMsIF9vcHRpb25zJHdlZWtTdGFydHNPbiwgX29wdGlvbnMkbG9jYWxlLCBfb3B0aW9ucyRsb2NhbGUkb3B0aW8sIF9kZWZhdWx0T3B0aW9ucyRsb2NhbCwgX2RlZmF1bHRPcHRpb25zJGxvY2FsMjtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIHZhciB3ZWVrU3RhcnRzT24gPSB0b0ludGVnZXIoKF9yZWYgPSAoX3JlZjIgPSAoX3JlZjMgPSAoX29wdGlvbnMkd2Vla1N0YXJ0c09uID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX29wdGlvbnMkd2Vla1N0YXJ0c09uICE9PSB2b2lkIDAgPyBfb3B0aW9ucyR3ZWVrU3RhcnRzT24gOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfb3B0aW9ucyRsb2NhbGUgPSBvcHRpb25zLmxvY2FsZSkgPT09IG51bGwgfHwgX29wdGlvbnMkbG9jYWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkbG9jYWxlJG9wdGlvID0gX29wdGlvbnMkbG9jYWxlLm9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zJGxvY2FsZSRvcHRpbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkbG9jYWxlJG9wdGlvLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX3JlZjMgIT09IHZvaWQgMCA/IF9yZWYzIDogZGVmYXVsdE9wdGlvbnMud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfcmVmMiAhPT0gdm9pZCAwID8gX3JlZjIgOiAoX2RlZmF1bHRPcHRpb25zJGxvY2FsID0gZGVmYXVsdE9wdGlvbnMubG9jYWxlKSA9PT0gbnVsbCB8fCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGVmYXVsdE9wdGlvbnMkbG9jYWwyID0gX2RlZmF1bHRPcHRpb25zJGxvY2FsLm9wdGlvbnMpID09PSBudWxsIHx8IF9kZWZhdWx0T3B0aW9ucyRsb2NhbDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kZWZhdWx0T3B0aW9ucyRsb2NhbDIud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfcmVmICE9PSB2b2lkIDAgPyBfcmVmIDogMCk7XG5cbiAgLy8gVGVzdCBpZiB3ZWVrU3RhcnRzT24gaXMgYmV0d2VlbiAwIGFuZCA2IF9hbmRfIGlzIG5vdCBOYU5cbiAgaWYgKCEod2Vla1N0YXJ0c09uID49IDAgJiYgd2Vla1N0YXJ0c09uIDw9IDYpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3dlZWtTdGFydHNPbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNiBpbmNsdXNpdmVseScpO1xuICB9XG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICB2YXIgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG4gIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGRpZmYpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgc3RhcnRPZldlZWsgZnJvbSBcIi4uL3N0YXJ0T2ZXZWVrL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc1NhbWVXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHBhcmFtIHswfDF8MnwzfDR8NXw2fSBbb3B0aW9ucy53ZWVrU3RhcnRzT249MF0gLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayAoMCAtIFN1bmRheSlcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0aGUgZGF0ZXMgYXJlIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcilcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDMxIEF1Z3VzdCAyMDE0IGFuZCA0IFNlcHRlbWJlciAyMDE0IGluIHRoZSBzYW1lIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVXZWVrKG5ldyBEYXRlKDIwMTQsIDcsIDMxKSwgbmV3IERhdGUoMjAxNCwgOCwgNCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgd2VlayBzdGFydHMgd2l0aCBNb25kYXksXG4gKiAvLyBhcmUgMzEgQXVndXN0IDIwMTQgYW5kIDQgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSwge1xuICogICB3ZWVrU3RhcnRzT246IDFcbiAqIH0pXG4gKiAvLz0+IGZhbHNlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAxIEphbnVhcnkgMjAxNCBhbmQgMSBKYW51YXJ5IDIwMTUgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgMCwgMSksIG5ldyBEYXRlKDIwMTUsIDAsIDEpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVXZWVrKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnRTdGFydE9mV2VlayA9IHN0YXJ0T2ZXZWVrKGRpcnR5RGF0ZUxlZnQsIG9wdGlvbnMpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVSaWdodCwgb3B0aW9ucyk7XG4gIHJldHVybiBkYXRlTGVmdFN0YXJ0T2ZXZWVrLmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZldlZWsuZ2V0VGltZSgpO1xufSIsImltcG9ydCBpc1NhbWVXZWVrIGZyb20gXCIuLi9pc1NhbWVXZWVrL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc1RoaXNXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSBpbiB0aGUgc2FtZSB3ZWVrIGFzIHRoZSBjdXJyZW50IGRhdGU/XG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGdpdmVuIGRhdGUgaW4gdGhlIHNhbWUgd2VlayBhcyB0aGUgY3VycmVudCBkYXRlP1xuICpcbiAqID4g4pqg77iPIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBub3QgcHJlc2VudCBpbiB0aGUgRlAgc3VibW9kdWxlIGFzXG4gKiA+IGl0IHVzZXMgYERhdGUubm93KClgIGludGVybmFsbHkgaGVuY2UgaW1wdXJlIGFuZCBjYW4ndCBiZSBzYWZlbHkgY3VycmllZC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSB0aGUgb2JqZWN0IHdpdGggb3B0aW9uc1xuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlIGlzIGluIHRoaXMgd2Vla1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDI1IFNlcHRlbWJlciAyMDE0LCBpcyAyMSBTZXB0ZW1iZXIgMjAxNCBpbiB0aGlzIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1RoaXNXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIxKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAyNSBTZXB0ZW1iZXIgMjAxNCBhbmQgd2VlayBzdGFydHMgd2l0aCBNb25kYXlcbiAqIC8vIGlzIDIxIFNlcHRlbWJlciAyMDE0IGluIHRoaXMgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzVGhpc1dlZWsobmV3IERhdGUoMjAxNCwgOCwgMjEpLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBmYWxzZVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVGhpc1dlZWsoZGlydHlEYXRlLCBvcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gaXNTYW1lV2VlayhkaXJ0eURhdGUsIERhdGUubm93KCksIG9wdGlvbnMpO1xufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxlY3Rpb25XcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtcyA9IFtdKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgICB9XG5cbiAgICBhZGQoaXRlbSkge1xuICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLml0ZW1zLmZpbmRJbmRleCgodmFsdWUpID0+IHZhbHVlID09PSBpdGVtKTtcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGluc2VydChpdGVtLCBwb3NpdGlvbikge1xuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShwb3NpdGlvbiwgMCwgaXRlbSk7XG4gICAgfVxuXG4gICAgcmVwbGFjZShpdGVtLCBwb3NpdGlvbikge1xuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShwb3NpdGlvbiwgMSwgaXRlbSk7XG4gICAgfVxuXG4gICAgZ2V0KHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zW3Bvc2l0aW9uXTsgXG4gICAgfVxuXG4gICAgY2xlYW4oKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICB9XG59IiwiaW1wb3J0IHsgZ2V0RGF5LCBpc1RoaXNXZWVrLCBpc1RvZGF5LCBpc1ZhbGlkIH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgQ29sbGVjdGlvbldyYXBwZXIgZnJvbSBcIi4uL3V0aWxzL2NvbGxlY3Rpb25XcmFwcGVyXCI7XG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gXCIuLi91dGlscy9ldmVudE1hbmFnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdCB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgaXRlbXMpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbmV3IENvbGxlY3Rpb25XcmFwcGVyKGl0ZW1zKTtcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmxpbmsodGhpcykpO1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlciA9IG5ldyBFdmVudE1hbmFnZXIoKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0Q29sbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24uaXRlbXM7XG4gICAgfVxuXG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS5nZXREYXRhKCkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYWRkKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmFkZChpdGVtKTtcbiAgICAgICAgaXRlbS5saW5rKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZU9ic2VydmVycygpO1xuICAgIH1cblxuICAgIHJlbW92ZShpdGVtKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbi5yZW1vdmUoaXRlbSk7XG4gICAgICAgIHRoaXMudXBkYXRlT2JzZXJ2ZXJzKCk7XG4gICAgfVxuXG4gICAgdW5saW5rKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9qZWN0Q29sbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0Q29sbGVjdGlvbi5yZW1vdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaW5rKHByb2plY3RDb2xsZWN0aW9uKSB7XG4gICAgICAgIHRoaXMudW5saW5rKCk7XG4gICAgICAgIHRoaXMucHJvamVjdENvbGxlY3Rpb24gPSBwcm9qZWN0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICBnZXREdWVUb2RheSgpIHtcbiAgICAgICAgY29uc3QgZHVlID0gdGhpcy5pdGVtcy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVPYmogPSBuZXcgRGF0ZShpdGVtLmR1ZURhdGUucmVwbGFjZSgnLScsICcvJykpO1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQoZGF0ZU9iaikgJiYgaXNUb2RheShkYXRlT2JqKTtcbiAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZHVlO1xuICAgIH1cblxuICAgIGdldER1ZVRoaXNXZWVrKCkge1xuICAgICAgICBjb25zdCB0b2RheVdlZWtEYXkgPSBnZXREYXkobmV3IERhdGUoKSk7XG4gICAgICAgIGNvbnN0IGR1ZSA9IHRoaXMuaXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRlT2JqID0gbmV3IERhdGUoaXRlbS5kdWVEYXRlLnJlcGxhY2UoJy0nLCAnLycpKTtcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKGRhdGVPYmopICYmIGlzVGhpc1dlZWsoZGF0ZU9iaiwge3dlZWtTdGFydHNPbjogdG9kYXlXZWVrRGF5fSkgICBcbiAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZHVlO1xuICAgIH1cblxuICAgIGFkZE9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICByZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5yZW1vdmVPYnNlcnZlcihvYnNlcnZlcik7XG4gICAgfVxuXG4gICAgdXBkYXRlT2JzZXJ2ZXJzKCkge1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci51cGRhdGVPYnNlcnZlcnMoKTtcbiAgICB9XG5cbiAgICBzZXRTdGF0ZShvYmplY3QpIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMob2JqZWN0KS5mb3JFYWNoKFxuICAgICAgICAgICAgKFtrZXksIHZhbHVlXSA9IGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMudXBkYXRlT2JzZXJ2ZXJzKCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrbGlzdEl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5pc0RvbmUgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuY2hlY2tsaXN0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGlzRG9uZTogdGhpcy5pc0RvbmVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB1bmxpbmsoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrbGlzdCA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuO31cbiAgICAgICAgdGhpcy5jaGVja2xpc3QucmVtb3ZlKHRoaXMpO1xuICAgIH1cblxuICAgIGxpbmsoY2hlY2tsaXN0KSB7XG4gICAgICAgIHRoaXMudW5saW5rKCk7XG4gICAgICAgIHRoaXMuY2hlY2tsaXN0ID0gY2hlY2tsaXN0O1xuICAgIH1cblxuICAgIHNldERvbmUoKSB7XG4gICAgICAgIHRoaXMuaXNEb25lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzZXRVbmRvbmUoKSB7XG4gICAgICAgIHRoaXMuaXNEb25lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdG9nZ2xlRG9uZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEb25lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFVuZG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXREb25lKCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IENvbGxlY3Rpb25XcmFwcGVyIGZyb20gXCIuLi91dGlscy9jb2xsZWN0aW9uV3JhcHBlclwiO1xuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vdXRpbHMvZXZlbnRNYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrbGlzdCB7XG4gICAgY29uc3RydWN0b3IoaXRlbXMpIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbmV3IENvbGxlY3Rpb25XcmFwcGVyKGl0ZW1zKTtcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmxpbmsodGhpcykpO1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlciA9IG5ldyBFdmVudE1hbmFnZXIoKTtcbiAgICB9XG5cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24uaXRlbXM7XG4gICAgfVxuXG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtpdGVtczogdGhpcy5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uZ2V0RGF0YSgpKX1cbiAgICB9XG5cbiAgICBhZGQoaXRlbSkge1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb24uYWRkKGl0ZW0pO1xuICAgICAgICBpdGVtLmxpbmsodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlT2JzZXJ2ZXJzKCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnJlbW92ZShpdGVtKTtcbiAgICAgICAgdGhpcy51cGRhdGVPYnNlcnZlcnMoKTtcbiAgICB9XG5cbiAgICBzZXREb25lKCkge1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uc2V0RG9uZSgpKTtcbiAgICB9XG5cbiAgICBzZXRVbmRvbmUoKSB7XG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5zZXRVbmRvbmUoKSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlRG9uZSgpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLnRvZ2dsZURvbmUoKSk7XG4gICAgfVxuXG4gICAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnJlbW92ZU9ic2VydmVyKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVPYnNlcnZlcnMoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnVwZGF0ZU9ic2VydmVycygpO1xuICAgIH1cbn0iLCJpbXBvcnQgQ29sbGVjdGlvbldyYXBwZXIgZnJvbSBcIi4uL3V0aWxzL2NvbGxlY3Rpb25XcmFwcGVyXCI7XG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gXCIuLi91dGlscy9ldmVudE1hbmFnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdENvbGxlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uV3JhcHBlcihpdGVtcyk7XG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5saW5rKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG4gICAgfVxuXG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uLml0ZW1zO1xuICAgIH1cblxuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpdGVtczogdGhpcy5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uZ2V0RGF0YSgpKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFkZChpdGVtKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbi5hZGQoaXRlbSk7XG4gICAgICAgIGl0ZW0ubGluayh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVPYnNlcnZlcnMoKTtcbiAgICB9XG5cbiAgICByZW1vdmUoaXRlbSkge1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKGl0ZW0pO1xuICAgICAgICB0aGlzLnVwZGF0ZU9ic2VydmVycygpO1xuICAgIH1cblxuICAgIGdldFRhc2tzRHVlVG9kYXkoKSB7XG4gICAgICAgIGNvbnN0IHRhc2tzID0gdGhpcy5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkdWUgPSBpdGVtLmdldER1ZVRvZGF5KCk7XG4gICAgICAgICAgICBpZiAoZHVlKSB7XG4gICAgICAgICAgICAgICAgdG90YWwucHVzaCguLi5kdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiB0YXNrcztcbiAgICB9XG5cbiAgICBnZXRUYXNrc0R1ZVRoaXNXZWVrKCkge1xuICAgICAgICBjb25zdCB0YXNrcyA9IHRoaXMuaXRlbXMucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZHVlID0gaXRlbS5nZXREdWVUaGlzV2VlaygpO1xuICAgICAgICAgICAgaWYgKGR1ZSkge1xuICAgICAgICAgICAgICAgIHRvdGFsLnB1c2goLi4uZHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b3RhbDtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gdGFza3M7XG4gICAgfVxuXG4gICAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnJlbW92ZU9ic2VydmVyKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVPYnNlcnZlcnMoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnVwZGF0ZU9ic2VydmVycygpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb2RvTGlzdCB7XG4gICAgY29uc3RydWN0b3IocHJvamVjdCwgcHJvamVjdENvbGxlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5pbmJveCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMucHJvamVjdENvbGxlY3Rpb24gPSBwcm9qZWN0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5ib3g6IHRoaXMuaW5ib3guZ2V0RGF0YSgpLFxuICAgICAgICAgICAgcHJvamVjdENvbGxlY3Rpb246IHRoaXMucHJvamVjdENvbGxlY3Rpb24uZ2V0RGF0YSgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0VGFza3NEdWVUb2RheSgpIHtcbiAgICAgICAgY29uc3QgZHVlID0gW107XG4gICAgICAgIGR1ZS5wdXNoKC4uLnRoaXMuaW5ib3guZ2V0RHVlVG9kYXkoKSwgLi4udGhpcy5wcm9qZWN0Q29sbGVjdGlvbi5nZXRUYXNrc0R1ZVRvZGF5KCkpO1xuICAgICAgICByZXR1cm4gZHVlO1xuICAgIH1cblxuICAgIGdldFRhc2tzRHVlVGhpc1dlZWsoKSB7XG4gICAgICAgIGNvbnN0IGR1ZSA9IFtdO1xuICAgICAgICBkdWUucHVzaCguLi50aGlzLmluYm94LmdldER1ZVRoaXNXZWVrKCksIC4uLnRoaXMucHJvamVjdENvbGxlY3Rpb24uZ2V0VGFza3NEdWVUaGlzV2VlaygpKTtcbiAgICAgICAgcmV0dXJuIGR1ZTtcbiAgICB9XG59IiwiaW1wb3J0IFRhc2sgZnJvbSBcIi4uL21vZGVscy90YXNrXCI7XG5pbXBvcnQgUHJvamVjdCBmcm9tIFwiLi4vbW9kZWxzL3Byb2plY3RcIjtcbmltcG9ydCBDaGVja2xpc3RJdGVtIGZyb20gXCIuLi9tb2RlbHMvY2hlY2tsaXN0SXRlbVwiO1xuaW1wb3J0IENoZWNrbGlzdCBmcm9tIFwiLi4vbW9kZWxzL2NoZWNrbGlzdFwiO1xuaW1wb3J0IFByb2plY3RDb2xsZWN0aW9uIGZyb20gXCIuLi9tb2RlbHMvcHJvamVjdENvbGxlY3Rpb25cIjtcbmltcG9ydCBUb2RvTGlzdCBmcm9tIFwiLi4vbW9kZWxzL3RvZG9MaXN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsRmFjdG9yeSB7XG4gICAgY3JlYXRlQ2hlY2tsaXN0KGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdCA9IG5ldyBDaGVja2xpc3QoaXRlbXMpO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0O1xuICAgIH1cblxuICAgIGNyZWF0ZUNoZWNrbGlzdEl0ZW0oZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBDaGVja2xpc3RJdGVtKGRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuXG4gICAgY3JlYXRlVGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBjaGVja2xpc3QpIHtcbiAgICAgICAgaWYgKCFjaGVja2xpc3QpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdCA9IHRoaXMuY3JlYXRlQ2hlY2tsaXN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBUYXNrKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGNoZWNrbGlzdCk7XG4gICAgICAgIHJldHVybiB0YXNrO1xuICAgIH1cblxuICAgIGNyZWF0ZVByb2plY3QobmFtZSwgaXRlbXMpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IG5ldyBQcm9qZWN0KG5hbWUsIGl0ZW1zKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3Q7XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvamVjdENvbGxlY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdENvbGxlY3Rpb24gPSBuZXcgUHJvamVjdENvbGxlY3Rpb24oaXRlbXMpO1xuICAgICAgICByZXR1cm4gcHJvamVjdENvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgY3JlYXRlVG9kbyhwcm9qZWN0LCBwcm9qZWN0Q29sbGVjdGlvbikge1xuICAgICAgICBjb25zdCB0b2RvID0gbmV3IFRvZG9MaXN0KHByb2plY3QsIHByb2plY3RDb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRvZG87XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3h5RmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IobW9kZWxGYWN0b3J5LCBwcm94eVdyYXBwZXIpIHtcbiAgICAgICAgdGhpcy5tb2RlbEZhY3RvcnkgPSBtb2RlbEZhY3Rvcnk7XG4gICAgICAgIHRoaXMucHJveHlXcmFwcGVyID0gcHJveHlXcmFwcGVyO1xuICAgIH1cblxuICAgIGNyZWF0ZUNoZWNrbGlzdChpdGVtcyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbEZhY3RvcnkuY3JlYXRlQ2hlY2tsaXN0KHRoaXMucHJveHlXcmFwcGVyKGl0ZW1zKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5V3JhcHBlcihtb2RlbCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2hlY2tsaXN0SXRlbShkZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMubW9kZWxGYWN0b3J5LmNyZWF0ZUNoZWNrbGlzdEl0ZW0oZGVzY3JpcHRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eVdyYXBwZXIobW9kZWwpO1xuICAgIH1cblxuICAgIGNyZWF0ZVRhc2sodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgY2hlY2tsaXN0KSB7XG4gICAgICAgIGlmICghY2hlY2tsaXN0KSB7XG4gICAgICAgICAgICBjaGVja2xpc3QgPSB0aGlzLmNyZWF0ZUNoZWNrbGlzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbEZhY3RvcnkuY3JlYXRlVGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBjaGVja2xpc3QpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eVdyYXBwZXIobW9kZWwpO1xuICAgIH1cblxuICAgIGNyZWF0ZVByb2plY3QobmFtZSwgaXRlbXMgPSBbXSkge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMubW9kZWxGYWN0b3J5LmNyZWF0ZVByb2plY3QobmFtZSwgdGhpcy5wcm94eVdyYXBwZXIoaXRlbXMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlXcmFwcGVyKG1vZGVsKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQcm9qZWN0Q29sbGVjdGlvbihpdGVtcyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbEZhY3RvcnkuY3JlYXRlUHJvamVjdENvbGxlY3Rpb24odGhpcy5wcm94eVdyYXBwZXIoaXRlbXMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlXcmFwcGVyKG1vZGVsKTtcbiAgICB9XG5cbiAgICBjcmVhdGVUb2RvKHByb2plY3QsIHByb2plY3RDb2xsZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbEZhY3RvcnkuY3JlYXRlVG9kbyhwcm9qZWN0LCBwcm9qZWN0Q29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5V3JhcHBlcihtb2RlbCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JhZ2VXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzdG9yYWdlTWVjaGFuaXNtKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZU1lY2hhbmlzbSA9IHN0b3JhZ2VNZWNoYW5pc207XG4gICAgfVxuXG4gICAgc2F2ZVRvZG8odG9kbykge1xuICAgICAgICB0aGlzLnN0b3JhZ2VNZWNoYW5pc20uc2V0SXRlbSgndG9kbycsIEpTT04uc3RyaW5naWZ5KHRvZG8uZ2V0RGF0YSgpKSk7XG4gICAgfVxuXG4gICAgZ2V0VG9kbygpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5zdG9yYWdlTWVjaGFuaXNtLmdldEl0ZW0oJ3RvZG8nKSk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYW5nZUxpc3RlbmVyUHJveHkge1xuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrID0gKCgpID0+IHtyZXR1cm47fSkpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIHNldENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICB3cmFwT2JqZWN0KG9iaikge1xuICAgICAgICAvLyBUaGlzIGFkZGl0aW9uYWwgbGluZSBtYWtlcyBzdXJlIHRoYXQgd2hlbiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIHRoZSBjYWxsYmFjayB3aWxsIGJlIHRoZSBvbmVcbiAgICAgICAgLy8gc3RvcmVkIGN1cnJlbnRseSBpbiB0aGlzLmNhbGxiYWNrXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge3RoaXMuY2FsbGJhY2soKX07XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkob2JqLCB7XG4gICAgICAgICAgICBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbEZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5tb2RlbEZhY3RvcnkgPSBtb2RlbEZhY3Rvcnk7XG4gICAgfVxuXG4gICAgbG9hZENoZWNrbGlzdEl0ZW0oZGF0YSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5tb2RlbEZhY3RvcnkuY3JlYXRlQ2hlY2tsaXN0SXRlbShkYXRhLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKGRhdGEuaXNEb25lKSB7aXRlbS5zZXREb25lKCl9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cblxuICAgIGxvYWRDaGVja2xpc3QoZGF0YSkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IGRhdGEuaXRlbXMubWFwKChkYXRhSXRlbSkgPT4gdGhpcy5sb2FkQ2hlY2tsaXN0SXRlbShkYXRhSXRlbSkpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3QgPSB0aGlzLm1vZGVsRmFjdG9yeS5jcmVhdGVDaGVja2xpc3QoaXRlbXMpO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0O1xuICAgIH1cblxuICAgIGxvYWRUYXNrKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0ID0gdGhpcy5sb2FkQ2hlY2tsaXN0KGRhdGEuY2hlY2tsaXN0KTtcbiAgICAgICAgY29uc3QgdGFzayA9IHRoaXMubW9kZWxGYWN0b3J5LmNyZWF0ZVRhc2soZGF0YS50aXRsZSwgZGF0YS5kZXNjcmlwdGlvbiwgZGF0YS5kdWVEYXRlLCBkYXRhLnByaW9yaXR5LCBjaGVja2xpc3QpO1xuICAgICAgICBpZiAoZGF0YS5pc0RvbmUpIHt0YXNrLnNldERvbmUoKX1cbiAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgfVxuXG4gICAgbG9hZFByb2plY3QoZGF0YSkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IGRhdGEuaXRlbXMubWFwKChkYXRhSXRlbSkgPT4gdGhpcy5sb2FkVGFzayhkYXRhSXRlbSkpO1xuICAgICAgICBjb25zdCBwcm9qZWN0ID0gdGhpcy5tb2RlbEZhY3RvcnkuY3JlYXRlUHJvamVjdChkYXRhLm5hbWUsIGl0ZW1zKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3Q7XG4gICAgfVxuXG4gICAgbG9hZFByb2plY3RDb2xsZWN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkYXRhLml0ZW1zLm1hcCgoZGF0YUl0ZW0pID0+IHRoaXMubG9hZFByb2plY3QoZGF0YUl0ZW0pKTtcbiAgICAgICAgY29uc3QgcHJvamVjdENvbGxlY3Rpb24gPSB0aGlzLm1vZGVsRmFjdG9yeS5jcmVhdGVQcm9qZWN0Q29sbGVjdGlvbihpdGVtcyk7XG4gICAgICAgIHJldHVybiBwcm9qZWN0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICBsb2FkVG9kbyhkYXRhKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RDb2xsZWN0aW9uID0gdGhpcy5sb2FkUHJvamVjdENvbGxlY3Rpb24oZGF0YS5wcm9qZWN0Q29sbGVjdGlvbik7XG4gICAgICAgIGNvbnN0IGluYm94ID0gdGhpcy5sb2FkUHJvamVjdChkYXRhLmluYm94KTtcbiAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubW9kZWxGYWN0b3J5LmNyZWF0ZVRvZG8oaW5ib3gsIHByb2plY3RDb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRvZG87XG4gICAgfVxufSIsImNvbnN0IFBvc2l0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xuICAgIFRPUF9MRUZUOiBcInBvcFVwLS10b3BMZWZ0XCIsXG4gICAgVE9QX01JRDogXCJwb3BVcC0tdG9wTWlkXCIsXG4gICAgVE9QX1JJR0hUOiBcInBvcFVwLS10b3BSaWdodFwiLFxuICAgIENFTlRFUl9MRUZUOiBcInBvcFVwLS1jZW50ZXJMZWZ0XCIsXG4gICAgQ0VOVEVSOiBcInBvcFVwLS1jZW50ZXJcIixcbiAgICBDRU5URVJfUklHSFQ6IFwicG9wVXAtLWNlbnRlclJpZ2h0XCIsXG4gICAgQk9UVE9NX0xFRlQ6IFwicG9wVXAtLWJvdHRvbUxlZnRcIixcbiAgICBCT1RUT01fTUlEOiBcInBvcFVwLS1ib3R0b21NaWRcIixcbiAgICBCT1RUT01fUklHSFQ6IFwicG9wVXAtLWJvdHRvbVJpZ2h0XCJcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb3NpdGlvbnM7IiwiaW1wb3J0IFBvc2l0aW9ucyBmcm9tIFwiLi9wb3BVcFBvc2l0aW9uc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQb3BVcChlbGVtZW50LCBjbGlja0xvY2sgPSBmYWxzZSwgYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmMDBcIiwgcG9zaXRpb24gPSBQb3NpdGlvbnMuQ0VOVEVSKSB7XG4gICAgY29uc3QgcG9wVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwb3BVcC5jbGFzc0xpc3QuYWRkKCdwb3BVcCcpO1xuICAgIHBvcFVwLmNsYXNzTGlzdC5hZGQocG9zaXRpb24pO1xuICAgIHBvcFVwLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcbiAgICBcbiAgICBjb25zdCBwb3BVcFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwb3BVcFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgncG9wVXAtd3JhcHBlcicpO1xuXG4gICAgcG9wVXBXcmFwcGVyLmFwcGVuZChlbGVtZW50KTtcbiAgICBwb3BVcC5hcHBlbmQocG9wVXBXcmFwcGVyKTtcbiAgICBcbiAgICBpZiAoY2xpY2tMb2NrKSB7XG4gICAgICAgIHBvcFVwLmNsYXNzTGlzdC5hZGQoJ3BvcFVwLS1jbGlja0xvY2tlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uTGlzdCwgb2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgcG9wVXAucmVtb3ZlKCk7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9KVxuXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShwb3BVcFdyYXBwZXIsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuXG4gICAgcmV0dXJuIHBvcFVwO1xufSIsImltcG9ydCBjcmVhdGVQb3BVcCBmcm9tIFwiLi9wb3BVcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cExheWVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50SG9vaykge1xuICAgICAgICB0aGlzLmNvbnRlbnRIb29rID0gY29udGVudEhvb2s7XG4gICAgICAgIHRoaXMuY29udGVudEhvb2suY2xhc3NMaXN0LmFkZCgncG9wVXBMYXllcicpO1xuICAgIH1cblxuICAgIGFkZFBvcFVwKGVsZW1lbnQsIGNsaWNrTG9jaywgYmFja2dyb3VuZENvbG9yLCBwb3NpdGlvbikge1xuICAgICAgICBjb25zdCBwb3BVcCA9IGNyZWF0ZVBvcFVwKGVsZW1lbnQsIGNsaWNrTG9jaywgYmFja2dyb3VuZENvbG9yLCBwb3NpdGlvbilcbiAgICAgICAgdGhpcy5jb250ZW50SG9vay5hcHBlbmQocG9wVXApO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JvbGxDb250YWluZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgc2hlZXQucmVwbGFjZVN5bmMoYFxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAud3JhcHBlciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICBvdmVyZmxvdy15OiBjbGlwO1xuICAgICAgICB9XG5cbiAgICAgICAgLnNlY29uZFdyYXBwZXIge1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgfVxuXG4gICAgICAgIGBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbc2hlZXRdO1xuXG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG5cbiAgICAgICAgY29uc3Qgc2Vjb25kV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZWNvbmRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3NlY29uZFdyYXBwZXInKTtcblxuICAgICAgICBjb25zdCBzbG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2xvdCcpO1xuXG4gICAgICAgIHNlY29uZFdyYXBwZXIuYXBwZW5kKHNsb3QpXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kKHNlY29uZFdyYXBwZXIpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kKHdyYXBwZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBFbGVtZW50RmFjdG9yeSBmcm9tICcuL21vZHVsZXMvZmFjdG9yaWVzL2VsZW1lbnRGYWN0b3J5JztcbmltcG9ydCBNb2RlbEZhY3RvcnkgZnJvbSAnLi9tb2R1bGVzL2ZhY3Rvcmllcy9tb2RlbEZhY3RvcnknO1xuaW1wb3J0IFByb3h5RmFjdG9yeSBmcm9tICcuL21vZHVsZXMvZmFjdG9yaWVzL3Byb3h5RmFjdG9yeSc7XG5pbXBvcnQgU3RvcmFnZVdyYXBwZXIgZnJvbSAnLi9tb2R1bGVzL3V0aWxzL3N0b3JhZ2UnO1xuaW1wb3J0IENoYW5nZUxpc3RlbmVyUHJveHkgZnJvbSAnLi9tb2R1bGVzL3V0aWxzL2NoYW5nZUxpc3RlbmVyUHJveHknO1xuaW1wb3J0IExvYWRGYWN0b3J5IGZyb20gJy4vbW9kdWxlcy9mYWN0b3JpZXMvbG9hZEZhY3RvcnknO1xuaW1wb3J0IFBvcHVwTGF5ZXIgZnJvbSAnLi9tb2R1bGVzL3BvcFVwL3BvcFVwTGF5ZXInO1xuaW1wb3J0IFNjcm9sbENvbnRhaW5lciBmcm9tICcuL21vZHVsZXMvY3VzdG9tRWxlbWVudHMvc2Nyb2xsQ29udGFpbmVyJztcblxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3Njcm9sbC1jb250YWluZXInLCBTY3JvbGxDb250YWluZXIpO1xuXG5jb25zdCBzaWRlYmFySG9vayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhclwiKTtcbmNvbnN0IGNvbnRlbnRIb29rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xuXG5jb25zdCBwcm94eVdyYXBwZXIgPSBuZXcgQ2hhbmdlTGlzdGVuZXJQcm94eSgpO1xuY29uc3Qgc3RvcmFnZVdyYXBwZXIgPSBuZXcgU3RvcmFnZVdyYXBwZXIobG9jYWxTdG9yYWdlKTtcbmNvbnN0IG1vZGVsRmFjdG9yeSA9IG5ldyBNb2RlbEZhY3RvcnkoKTtcbmNvbnN0IG1vZGVsUHJveHlGYWN0b3J5ID0gbmV3IFByb3h5RmFjdG9yeShtb2RlbEZhY3RvcnksIChpdGVtKSA9PiB7cmV0dXJuIHByb3h5V3JhcHBlci53cmFwT2JqZWN0KGl0ZW0pfSlcbmNvbnN0IGxvYWRGYWN0b3J5ID0gbmV3IExvYWRGYWN0b3J5KG1vZGVsUHJveHlGYWN0b3J5KTtcblxuY29uc3QgcG9wVXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5jb25zdCBwb3BVcExheWVyID0gbmV3IFBvcHVwTGF5ZXIocG9wVXBFbGVtZW50KTtcblxuY29uc3QgZWxlbWVudEZhY3RvcnkgPSBuZXcgRWxlbWVudEZhY3RvcnkobW9kZWxQcm94eUZhY3RvcnksIHBvcFVwTGF5ZXIpO1xuXG5jb25zdCBkYXRhID0gc3RvcmFnZVdyYXBwZXIuZ2V0VG9kbygpXG5sZXQgdG9kbztcbmlmIChkYXRhKSB7XG4gICAgdG9kbyA9IGxvYWRGYWN0b3J5LmxvYWRUb2RvKGRhdGEpO1xufSBlbHNlIHtcbiAgICB0b2RvID0gbW9kZWxQcm94eUZhY3RvcnkuY3JlYXRlVG9kbyhtb2RlbFByb3h5RmFjdG9yeS5jcmVhdGVQcm9qZWN0KCdJbmJveCcpLCBtb2RlbFByb3h5RmFjdG9yeS5jcmVhdGVQcm9qZWN0Q29sbGVjdGlvbigpKTtcbn1cblxuLy8gVGhpcyBzZXRzIGN1cnJlbnQgYW5kIGZ1dHVyZSBvYmplY3QgcHJveGllcyB0byByZWZlciB0byB0aGlzIGNhbGxiYWNrXG5wcm94eVdyYXBwZXIuc2V0Q2FsbGJhY2soKCkgPT4ge3N0b3JhZ2VXcmFwcGVyLnNhdmVUb2RvKHRvZG8pfSk7XG5cbmRvY3VtZW50LmJvZHkuYXBwZW5kKHBvcFVwRWxlbWVudCk7XG5zaWRlYmFySG9vay5hcHBlbmQoZWxlbWVudEZhY3RvcnkuYnVpbGRUb2RvKHRvZG8sIGNvbnRlbnRIb29rKSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///197\n")}},__webpack_exports__={};__webpack_modules__[197]()})();